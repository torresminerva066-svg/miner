(()=>{"use strict";var e=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),o=Array(n),i=0;i<n;i++)o[i]=arguments[i+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=o,e.apply(this,a)}};class t{constructor(e,t=""){this._callback=e,this._redirect=t}initFromVO(e){this._callback=e._callback,this._redirect=e._redirect}get callback(){return this._callback}get redirect(){return this._redirect}getPostLoginAction(){return""===this._redirect?this._callback:this._redirect}}const n=(e,t,n)=>{if("success"===e.status)return e.data;let o="";e.message&&(o+=" Error Message: "+e.message),e.data&&(o+=" Error data: "+JSON.stringify(e.data));const i=new Error(e.message?e.message:"");return i.code=e.code,i.data=e.data,i.status=e.status,i.detail="Failed to write "+JSON.stringify(n)+" to url: "+PMW.util.site_url(t)+"."+(o||""),i};"serviceWorker"in navigator&&window.addEventListener("load",(function(){let e="/serviceWorker.js";window.location.href.includes("/pmw/")&&(e="/pmw"+e),navigator.serviceWorker.register(e).catch((e=>console.log("service worker not registered",e)));let t=PMW.isPWA(),n=PMW.isLocal();const o=new BroadcastChannel("core-sw-channel");o.onmessage=e=>{"get_isLocal"===e.data.type&&o.postMessage({type:"isLocal",isLocal:n}),"get_isPWA"===e.data.type&&o.postMessage({type:"isPWA",isPWA:t})}}));const o="open",i="pmw_cb_data";function a(e){PMW.isLocal()&&(e.xhrFields={withCredentials:!0},e.crossDomain=!0,e.headers={...void 0!==e.headers?e.headers:{},"X-Requested-With":"XMLHttpRequest"})}"undefined"==typeof PMW&&(window.PMW={}),PMW.mergePMW=function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n])},PMW.mergePMW(PMW,{VERSION:1,SERVER_ROOT:"",BASE_URL:"",FB_APP_ID:"",GOOGLE_APP_ID:"",FB_PERMISSIONS:"email",TRACKING_COOKIE_EXPIRY:1095,ELIGIBLE_COUNTRY_CODE_COOKIE_EXPIRY:365,COOKIE_TTL_SIX_HOURS:.25,COOKIE_TTL_TEN_MINUTES:.007,COOKIE_TTL_ONE_DAY:1,COOKIE_FREE_DOWNLOAD:"pmwfdd",COOKIE_FREE_DOWNLOAD_VALUE_UPSELLING_SHOWN:"1",COOKIE_FREE_DOWNLOAD_VALUE_BLOCK_UPSELLING:"-1",enableGTM:!0,enableGATracking:!0,enableOnlineAdsTracking:!0,POSTERBUILDER:"PosterBuilder",sharingAfterAction:"",click:"vclick",modals:[],SUBSCRIPTION_PURCHASE_TRACKING_CACHE_KEY:"pmw_subscription_purchase",queuedOpenModal:null,DEFAULT_CACHE_EXPIRY:2592e5,CACHE_EXPIRY_ONE_HOUR:36e5,CACHE_EXPIRY_FIVE_MINUTES:3e5,MOBILE_SCREEN_BREAKPOINT:480,TABLET_SCREEN_BREAKPOINT:780,cacheNamespace:"",currentAjaxRequest:{},fallbackCache_:{},accessDeniedPages:["blocked"],anonUserId_:"",freeGettyContentForPremiumUsers:null,csrfSourceCookie:0,csrfSourceCookieAfterAjaxRequest:1,csrfSourceAjaxRequestResponse:2,formDataType:0,objectDataType:1,stringDataType:2,indexPage:"index.php",defaultLanguage:"en",languagesSupportedAsUrlSubfolders:["pl"],areSubdomainToSubfolderAjaxParamsNeeded:!0,shouldSubdomainOriginBeCheckedForRedirects:!0,EMBEDDED_EDITOR_AUTHENTICATION_LAYOVER_URI:"authenticate/embeddededitorlayover",AJAX_RESPONSE_STATUS_ERROR:"error",AJAX_RESPONSE_STATUS_SUCCESS:"success",AJAX_RESPONSE_STATUS_FAIL:"fail",USER_PREFERRED_LANGUAGE:"en",util:{loadedFrontendBundles:{},animationEndEvents:function(){let e,t=document.createElement("fakeelement");const n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),transitionEndEvents:function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),isInBuilder:function(){return-1!==location.href.indexOf("/posterbuilder/")},isRedirectedFromGoogleOAuth:function(){return""!==this.getOAuthRedirectedValue("id_token")},getOAuthRedirectedValue:function(e){let t="?"+location.href.substring(location.href.indexOf("#")+1),n=this.getQueryStringValue(e,t);return"state"===e?JSON.parse(n):n},require:function(e,t,n,o){e?n?PMW.getJsAndCssAssetGroup(t,o):PMW.getJsAssetGroup(t,o):o()},requireFrontendBundle:function(e,t=void 0){void 0===PMW.util.loadedFrontendBundles[e]?$.when($.ajax({dataType:"html",cache:!0,url:PMW.addVersion(PMW.util.site_url("asset/getFrontendJsEntry?bundleName="+e))}),$.ajax({dataType:"html",cache:!0,url:PMW.addVersion(PMW.util.site_url("asset/getFrontendCssEntry?bundleName="+e))})).then((function(n,o){const i=PMW.util.getNonTextNodesFromJqueryElements($(n[0])),a=i.length;let s=0;i.each((function(){const e=document.createElement("script");e.src=this.src,e.type=this.type,e.onload=function(){s+=1,s===a&&void 0!==t&&t()},document.head.appendChild(e)}));const r=PMW.util.getNonTextNodesFromJqueryElements($(o[0])),l=document.createElement("style");r.each((function(){l.appendChild(this)})),document.head.appendChild(l),PMW.util.loadedFrontendBundles[e]=1})).fail((function(){alert(window.i18next.t("pmwjs_problem_check_internet_connection_reload"))})):void 0!==t&&t()},getNonTextNodesFromJqueryElements:function(e){let t=[];return e.each((function(){3!==this.nodeType&&t.push(this)})),$(t)},embedded_site_url:function(e){let t=PMW.util.getEmbeddedURLSegment(),n=PMW.util.getGalleryDialogUrlSegment(),o="";return void 0!==t&&t.length>0?o=t:void 0!==n&&n.length>0&&(o=n),this.site_url(e+o)},site_url:function(e=""){let t=PMW.util.getLanguage();return this.isActiveLanguageSupportedAsUrlSubfolder()&&!PMW.SERVER_ROOT.includes(t)?PMW.SERVER_ROOT+t+"/"+e:PMW.SERVER_ROOT+e},asset_url:function(e=""){return PMW.BASE_URL+"assets/"+e},gradient_url:function(e=""){return"https://www.postermywall.com/blog//"+e},homepage_url:function(){let e=PMW.BASE_URL,t=PMW.util.getLanguage();return PMW.util.isActiveLanguageSupportedAsUrlSubfolder()?e+t+"/":e},isActiveLanguageSupportedAsUrlSubfolder:()=>PMW.languagesSupportedAsUrlSubfolders.includes(PMW.util.getLanguage()),isLanguageSupportedAsUrlSubfolder:e=>PMW.languagesSupportedAsUrlSubfolders.includes(e),isDefaultLanguage:()=>PMW.util.getLanguage()===PMW.defaultLanguage,changeLanguage(e,t,n){const o=PMW.util.getLanguage();let i=window.location.href;if(PMW.util.isActiveLanguageSupportedAsUrlSubfolder()&&!PMW.util.isLanguageSupportedAsUrlSubfolder(e))return i=i.replace("/"+o+"/","/"+PMW.indexPage+"/"),void(window.location.href=i.replace(window.location.hostname,n));if(!PMW.util.isActiveLanguageSupportedAsUrlSubfolder()&&PMW.util.isLanguageSupportedAsUrlSubfolder(e)){let o=window.location.href.split(PMW.indexPage);return i=o[0]+e+o[1],void(window.location.href=i.replace(t,this.removeLanguageFromDomain(n,e)))}PMW.util.isActiveLanguageSupportedAsUrlSubfolder()||PMW.util.isLanguageSupportedAsUrlSubfolder(e)?window.location.href=i.replace("/"+o+"/","/"+e+"/"):window.location.href=i.replace(t,n)},removeLanguageFromDomain(e,t){let n=t;return e.includes("beta")||(n+="."),e.replace(n,"")},updateLanguageDomainForUrl(e,t){const n=PMW.util.getLanguage(),o=window.location.hostname;return n===t?e:PMW.util.isActiveLanguageSupportedAsUrlSubfolder()&&!PMW.util.isLanguageSupportedAsUrlSubfolder(t)?this.updateSubfolderUrlToSubdomainUrl(e,n,t,o):!PMW.util.isActiveLanguageSupportedAsUrlSubfolder()&&PMW.util.isLanguageSupportedAsUrlSubfolder(t)?this.updateSubdomainUrlToSubfolderUrl(e,n,t,o):PMW.util.isActiveLanguageSupportedAsUrlSubfolder()||PMW.util.isLanguageSupportedAsUrlSubfolder(t)?this.updateSubfolderInSubfolderUrl(e,n,t):this.updateSubdomainInSubdomainUrl(e,n,t,o)},updateSubfolderUrlToSubdomainUrl:(e,t,n,o)=>(e=e.replace("/"+t+"/","/"+PMW.indexPage+"/"),n===PMW.defaultLanguage?e:e=PMW.isLocal()?e.replace(o,n+"."+o):o.includes("beta.")?e.replace(o,n+o):e.replace("www.",n+".")),updateSubdomainUrlToSubfolderUrl(e,t,n,o){let i=e.split(PMW.indexPage);return e=i[0]+n+i[1],t===PMW.defaultLanguage?e:e=PMW.isLocal()?e.replace(t+".",""):o.includes("beta.")?e.replace(t+"beta.","beta."):e.replace(t+".","www.")},updateSubdomainInSubdomainUrl:(e,t,n,o)=>t===n?e:PMW.isLocal()?t===PMW.defaultLanguage?e.replace(o,n+"."+o):n===PMW.defaultLanguage?e.replace(t+".",""):e.replace(t+".",n+"."):o.includes("beta.")?t===PMW.defaultLanguage?e.replace(o,n+o):n===PMW.defaultLanguage?e.replace(t+"beta.","beta."):e.replace(t+"beta.",n+"beta."):t===PMW.defaultLanguage?e.replace("www.",n+"."):n===PMW.defaultLanguage?e.replace(t+".","www."):e.replace(t+".",n+"."),updateSubfolderInSubfolderUrl:(e,t,n)=>e.replace("/"+t+"/","/"+n+"/"),ignoreWindowHistoryUpdateForSubdomain:e=>!!PMW.shouldSubdomainOriginBeCheckedForRedirects&&(["dabeta.postermywall.com","da.localpostermywall.com","da.postermywall.com"].includes(window.location.hostname)&&["postermywall.com/da/","localpostermywall.com/pmw/da/","beta.postermywall.com/da/"].some((t=>e.includes(t)))),getRedirectURLFromHref(e){if(!e.includes("?redirect="))return"";const t=new URL(e).searchParams;let n=t.get("redirect");return t.delete("redirect"),n+"?"+t.toString()},repoURL:function(e,t){var n="https://"+t+"/"+e;return n+(-1===n.indexOf("?")?"?":"&")},getLanguage:function(){return document.documentElement.getAttribute("lang")||"en"},getCurrentPagePath:function(){return PMW.util.getPagePath(new URL(window.location.href))},getPagePathAndSearchParamsFromUrl:function(e){const t=PMW.util.getPagePath(new URL(e)),n=new URL(e).searchParams.toString();return""!==n?`${t}?${n}`:t},getPagePath:function(e){let t=this.getPagePathSeparatorToken();this.isLangMismatchWithPMConfig()&&(t=PMConfig.lang);const n=new RegExp(t+"(.*)");return e.pathname.match(n)[1]},getControllerFromUrl:function(e){return PMW.util.getPagePath(new URL(e)).split("/")[1]},getMethodFromUrl:function(e){return PMW.util.getPagePath(new URL(e)).split("/")[2]},isLangMismatchWithPMConfig:function(){return"undefined"!=typeof PMConfig&&null!==PMConfig&&void 0!==PMConfig.lang&&PMConfig.lang&&PMW.util.isLanguageSupportedAsUrlSubfolder(PMConfig.lang)&&PMConfig.lang!==PMW.util.getLanguage()},getPagePathSeparatorToken:function(){return PMW.util.isActiveLanguageSupportedAsUrlSubfolder()?PMW.util.getLanguage():PMW.indexPage},repoURL:function(e,t){var n="https://"+t+"/"+e;return n+(-1===n.indexOf("?")?"?":"&")},getLanguage:function(){return document.documentElement.getAttribute("lang")||PMW.defaultLanguage},addQueryStringParam:function(e,t,n){return e+(-1!=e.indexOf("?")?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(n)},getQueryStringValue:function(e,t){return void 0!==t&&!1!==t||(t=window.location.search),decodeURIComponent(t.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},getQueryStringValues:function(){var e,t,n={},o=window.location.href.indexOf("#");t=o>0?window.location.href.slice(window.location.href.indexOf("?")+1,o).split("&"):window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var i=0;i<t.length;i++)2==(e=t[i].split("=")).length&&(n[e[0]]=e[1]);return n},doesUrlContainEmbeddedEditorAuthenticationLayoverUri:function(e){return e.includes(PMW.EMBEDDED_EDITOR_AUTHENTICATION_LAYOVER_URI)},getTimeForBenchmark:function(){return"function"==typeof Date.now?Date.now():+new Date},getLocalURLFromFilePath:function(e){return e.substring(e.indexOf("server/")+7)},isValidEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},isPMWGraphicItemJSON:function(e){let t;try{t=JSON.parse(e)}catch(e){return!1}return Object.keys(t).includes("graphicItems")},setCookie:function(e,t,n,o){void 0===o&&(o=!1);var i,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i=e+"="+t+"; expires="+a.toGMTString()+"; path=/;domain="+PMW.DOMAIN,PMW.isChrome()&&parseInt(PMW.getBrowserVersion(),10)<79?i+=";Secure;":o?i+=" ;SameSite=Strict;Secure;":(PMW.isChrome()||PMW.isEdge())&&parseInt(PMW.getBrowserVersion(),10)<104?i+=" ;SameSite=None;Secure;":i+=" ;SameSite=None;Secure;Partitioned;",document.cookie=i},readCookie:function(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},deleteCookie:function(e){let t=";SameSite=None;Secure;Partitioned;";(PMW.isChrome()||PMW.isEdge())&&PMW.getBrowserVersion()<104&&(t=""),document.cookie=encodeURIComponent(e)+"=deleted; expires="+new Date(0).toUTCString()+";path=/ ;domain="+PMW.DOMAIN+t},setFreeDownloadCookie:function(e,t){PMW.util.setCookie(PMW.COOKIE_FREE_DOWNLOAD,e,t)},doPost:function(e,t){PMW.getCsrfToken((function(n){var o="csrf_token",i=document.querySelector('meta[name="data-csrf-name"]');i&&(o=i.content),""!==t&&(t+="&"),t+=o+"="+encodeURIComponent(n);var a=new XMLHttpRequest;a.open("POST",PMW.util.site_url(e),!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(t)}))},escapeHTML:function(e){return null===e||""===e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;")},isValidURL:function(e){return new RegExp("^(http|https)://((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+\\#]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e.toLowerCase())},isValidURLSimple:function(e){return/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/{2}=]*)/.test(e)},isValidPhoneSimple:function(e){return/^(tel:|\+|\d)+[\d\s()x-]+$/.test(e)},getClosestByClass:function(e,t){if(e.closest)return e.closest("."+t);for(;e&&e!==document;e=e.parentNode)if(e.classList.contains(t))return e;return null},createRandomId:function(){return Math.random().toString(36).slice(2)},copyProperties:function(e,t,n){n.forEach((n=>{e.hasOwnProperty(n)&&(t[n]=e[n])}))},copyObject:function(e){const t=e instanceof Array?[]:{};for(let n in e)e.hasOwnProperty(n)&&(t[n]="object"==typeof e[n]?this.copyObject(e[n]):e[n]);return t},isEmpty:function(e){let t=!0;for(let n in e){t=!1;break}return t},replaceAll:function(e,t,n){return n.split(e).join(t)},redirectToLoginPage:function(e=null){const t=PMW.util.site_url("authenticate/showlogin");window.location.href=e?PMW.util.addQueryStringParam(t,"redirect",e):t},getNumberFormatter:function(e){return void 0===e&&(e={}),Intl.NumberFormat(navigator.language,e)},numberFormat:function(e){return this.getNumberFormatter().format(e)},percentageFormat:function(e,t){return void 0===t&&(t=0),this.getNumberFormatter({style:"percent",maximumFractionDigits:t}).format(e)},getCurrencyFormatter:function(e){return Intl.NumberFormat(navigator.language,{style:"currency",currency:e,maximumFractionDigits:PMW.util.getMaximumFractionDigitsForCurrencyCode(e)})},getMaximumFractionDigitsForCurrencyCode:function(e){return PMW.currencyShowsDecimals.includes(e)?2:0},currencyFormat:function(e,t){return this.getCurrencyFormatter(t).format(e)},marketingCurrencyFormat:function(e,t){const n=this.getCurrencyFormatter(t).formatToParts(e);let o=!1,i="",a="";for(let e=0;e<n.length;e++){const t=n[e];"currency"===t.type?(0===e&&(o=!0),a=t.value):i+=t.value}return o?'<span class="body-xl-bold">'+a+'</span><span class="heading-h2">'+i+"</span>":'<span class="heading-h2">'+i+'</span><span class="body-xl-bold">'+a+"</span>"}},google:{FEATURES_API_URL:"https://apis.google.com/js/api.js",ACCOUNTS_API_URL:"https://accounts.google.com/gsi/client",DEFAULT_GOOGLE_BUTTON_WIDTH:255,GOOGLE_RENDER_BUTTON_PARAMS:{type:"standard",shape:"rectangle",theme:"filled_blue",text:"continue_with",size:"large",logo_alignment:"left",width:255},loadAccountsAPI:function(e){$.getScript(PMW.google.ACCOUNTS_API_URL,e)},loadFeaturesAPI:function(e){$.getScript(PMW.google.FEATURES_API_URL,e)},initUploadPermissions:function(e,t){PMW.google.loadAccountsAPI((function(){try{const n=google.accounts.oauth2.initTokenClient({client_id:PMW.GOOGLE_APP_ID,scope:"https://www.googleapis.com/auth/drive.file",callback:t=>{t&&t.access_token?e(t):PMW.google.onError()}});PMW.onClick(t,null,(function(){n.requestAccessToken(),t.off(PMW.click)}))}catch(e){PMW.google.onError()}}))},onError:function(e){let t=i18next.t("pmwjs_error_google_signin");void 0!==e&&void 0!==e.message&&""!==e.message&&(t=e.message),PMW.openErrorModal(t)}},fb:{init:function(){return window.fbAsyncInit=function(){FB.init({appId:PMW.FB_APP_ID,cookie:!0,version:PMW.FB_GRAPH_VERSION})},new Promise(((e,t)=>{!function(n,o,i){let a,s=n.getElementsByTagName(o)[0];n.getElementById(i)?e():(a=n.createElement(o),a.id=i,a.src="https://connect.facebook.net/"+PMW.FB_LOCALE_CODE+"/sdk.js",s.parentNode.insertBefore(a,s),a.onload=function(){e()},a.addEventListener("error",(function(e){t(e)})))}(document,"script","facebook-jssdk")}))},initLoginButton:function(e,t){PMW.fb.init().then((function(){e.removeClass("disabled"),PMW.onClick(e,null,t)})).catch((()=>alert(i18next.t("pmwjs_error_logging_in_via_fb"))))},login:function(e,t){PMW.isStudent()?alert(i18next.t("pmwjs_fb_features_not_for_students")):(void 0===t&&(t=null),PMW.fb.init().then((function(){FB.login(e,t)})).catch((()=>alert(i18next.t("pmwjs_error_logging_in_via_fb")))))}},ssoAccountAuthenticationCallback:function(e,n,o,i,a){let s=o;""!==o&&o||(s=PMW.util.getRedirectURLFromHref(location.href));const r=new t(i,s);if(e.status===PMW.AJAX_RESPONSE_STATUS_SUCCESS)PMW.handleSSOAccountSuccessResponse(e,(function(){PMW.gtm.trackSignupEvents(a),e.data.pictureURL?(PMW.setLoading(),PMW.write(PMW.util.site_url("user/updateProfilePictureFromGoogle"),{imageURL:e.data.pictureURL},PMW.openEmailOptInModal.bind(this,e.data.action,r,e.data.handledEmailMarketingPreference))):PMW.openEmailOptInModal(e.data.action,r,e.data.handledEmailMarketingPreference)}),(function(){PMW.onConnectSuccess(e.data.action,r,e.data.currentDomain,e.data.newDomain)}));else if(e.status===PMW.AJAX_RESPONSE_STATUS_FAIL)PMW.handleSSOAccountFailResponse(e,a,n.bind(null,e.data.identityToken));else{let t,n=i18next.t("pmwjs_user_login_failed");e.redirectMessage&&""!==e.redirectMessage&&(n=e.redirectMessage),e.message&&""!==e.message&&(n=e.message),"access_denied"===e.reason&&(n=i18next.t("pmwjs_user_login_insufficient_permissions",{account:a}),t=i18next.t("pmwjs_insufficient_permissions")),PMW.openErrorModal({title:t,message:n,log:!1})}},isPWA:function(){return!(!navigator.standalone&&!window.matchMedia("(display-mode: standalone)").matches)},isLocal:function(){return window.location.href.indexOf("/pmw/")>-1||window.location.href.indexOf("storybook.localpostermywall")>-1},handleSSOAccountSuccessResponse:function(e,t,n){function o(o){PMW.util.doesUrlContainEmbeddedEditorAuthenticationLayoverUri(PMW.util.getRedirectURLFromHref(window.location.href))?window.close():1===o.data.isnew?t():"undefined"!==o.data.redirect&&""!==o.data.redirect?"undefined"!==o.data.errorMsg&&o.data.errorMsg?(PMW.setLoading(null),alert(e.data.errorMsg)):window.location.href=e.data.redirect:n()}"pendingMFA"in e.data&&e.data.pendingMFA?PMW.openTwoFactorAuthenticationVerificationModal({onVerificationSuccessCallback:o.bind(this,e)}):o(e)},handleSSOAccountFailResponse:function(e,t,n){if(e.message&&"undefined"!==e.message&&""!==e.message)PMW.openErrorModal({message:e.message,log:!1});else if("undefined"!==e.data.showEmailRequiredDialog&&!0===e.data.showEmailRequiredDialog){let o;switch(e.reason){case"invalid-email":o={isEmailRequired:!0,onConnectCallback:n,onPasswordRequiredCallback:PMW.onPromptPasswordForEmail.bind(null,n,t)};break;case"non-sso-account-exists":o={email:e.data.email,onConnectCallback:n,errorMessage:i18next.t("pmwjs_account_with_email_exists_enter_password_to_connect",{ssoName:t}),onPasswordRequiredCallback:PMW.onPromptPasswordForEmail.bind(null,n,t)};break;default:o={isEmailRequired:!0,onConnectCallback:n,showSubscribeToEmailsCheckbox:!0,onPasswordRequiredCallback:PMW.onPromptPasswordForEmail.bind(null,n,t)}}PMW.openConnectSSOAccountModal(o)}},onPromptPasswordForEmail:function(e,t,n){let o={email:n,onConnectCallback:e,panelId:"prompt-password-panel",errorMessage:i18next.t("pmwjs_account_with_email_exists_enter_password_to_connect",{ssoName:t})};PMW.openConnectSSOAccountModal(o)},initGA4TrackingForNavBarSearch:function(){$(".js-search-icon").click((()=>{const e=$(".js-nav-input-field").val();PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:e,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"mobile"})})),$("#floating-nav-search-form").submit((e=>{const t=e.target,n=new FormData(t).get("s");PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:n,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"mobile"})})),$(".js-mobile-header-search-submit-icon").click((()=>{const e=$(".js-mobile-search-field-input").val();PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:e,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"tablet"})})),$("#mobile-search-form").submit((e=>{const t=e.target,n=new FormData(t).get("s");PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:n,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"tablet"})})),$(".js-header-search-submit-icon").click((()=>{const e=$(".js-search-field-input").val();PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:e,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"desktop"})})),$("#nav-search-form").submit((e=>{const t=e.target,n=new FormData(t).get("s");PMW.gtm.trackGA4CustomEvent(PMW.gtm.NAVBAR_SEARCH,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SEARCH_TERM]:n,[PMW.gtm.GA4_EVENT_PARAM_NAMES.PLATFORM]:"desktop"})}))},gtm:{ONLINE_ADS_EVENT_TYPE_POSTER_SAVE:"poster_save",ONLINE_ADS_EVENT_TYPE_FREE_DOWNLOAD:"free_download",ONLINE_ADS_EVENT_TYPE_DOWNLOAD_PURCHASE:"download_purchase",ONLINE_ADS_EVENT_TYPE_SUBSCRIPTION_PURCHASE:"subscription_purchase",ONLINE_ADS_EVENT_TYPE_TRIAL_CONVERTED:"trial_converted",ONLINE_ADS_EVENT_TYPE_RESUBSCRIBED:"resubscribed",ONLINE_ADS_EVENT_TYPE_SIGNUP:"signup",ONLINE_ADS_EVENT_TYPE_TRIAL_START:"trial_start",PURCHASE_ORDER_TYPE_IMAGE:"image",PURCHASE_ORDER_TYPE_VIDEO:"video",PURCHASE_ORDER_TYPE_SUBSCRIPTION:"subscription",SIGNUP_EVENT_CATEGORY:"Signup",SIGNUP_EVENT_TYPE:"sign_up",CUSTOM_CLICK_EVENT_TYPE:"custom_click",NAVBAR_SEARCH:"Nav_Search",CREATE_DESIGN_FROM_MEDIA_CLICKED:"CreatePosterFromUpload_Clicked",CREATE_DESIGN_FROM_MEDIA_CREATED:"CreatePosterFromUpload_Created",CREATE_DESIGN_FROM_CUSTOM_DIMENSIONS_CLICKED:"CreatePosterFromCustomDimensions_Clicked",CREATE_DESIGN_FROM_CUSTOM_DIMENSIONS_CREATED:"CreatePosterFromCustomDimensions_Created",CREATE_DESIGN_FROM_SIZE_PREFIX:"CreatePosterFromSize_",PUBLISHING_INTRO_VIDEO:"PublishingIntroVideo",SIGNUP_LABELS:{WEB:"web",ASYNC:"async",GOOGLE:"Google",FACEBOOK:"Facebook",APPLE:"Apple",EMAIL:"Email"},isGTMScriptLoaded_:!1,GA4_EVENT_PARAM_NAMES:{USER_PREMIUM_LEVEL:"userPremiumLevel",SEARCH_TERM:"searchTerm",TYPE:"type",PLATFORM:"platform",SOURCE:"source",HASHED_ID:"hashedId",SLIDE_NUMBER:"slideNumber",SIGNUP_PARAM_NAME:"method",TERM:"term",SEATS:"seats",NAME:"name"},GA4_MYSTUFF_CATEGORY:"MyStuff",GA4_NEED_MORE_X_PREFIX:"NeedMore",GA4_DESIGN_GALLERY_FILTERS_PREFIX:"DesignGallery_",GA4_NEED_MORE_X_MIN_RESULTS:10,GA4_CUSTOM_SEARCH_DEFINITION:{UNKNOWN:"Unknown",DESIGN_GALLERY:"Templates",EMAIL_GALLERY:"EmailTemplates",AUDIO:"Audio",STICKERS:"Stickers",SHAPES:"Shapes",CLIPART:{STORYBLOCKS:"StoryblocksIllustrations",PIXABAY:"PixabayIllustrations"},STOCK_IMAGE:{GETTY:"GettyImages",STORYBLOCKS:"StoryblocksImages",PIXABAY:"PixabayImages"},STOCK_VIDEO:{GETTY:"GettyVideos",STORYBLOCKS:"StoryblocksVideos",PIXABAY:"PixabayVideos"},DESIGN_GALLERY_FILTERS:{CONTENT_TYPE:"FilterType",COLOR:"FilterColor",MOTION:"FilterMotion",ORIENTATION:"FilterOrientation",DISPLAY_SIZE:"FilterSize",CATEGORY:"FilterCategory",SUBCATEGORY:"FilterSubcategory"}},CAROUSEL_ANALYTICS_EVENT_NAME:{CAROUSEL:"Carousel",NEXT_SUFFIX:"CarouselNext",PREVIOUS_SUFFIX:"CarouselPrevious",TOGGLE_SUFFIX:"Toggle",TOGGLE_VIEW_ALL:"ToggleViewAll",ITEM_CLICK:"ItemClick",GALLERY:"Gallery",ONLINE_GRAPHIC_DESIGN_LANDING_PAGE:"OnlineGraphicDesignLandingPage",DESIGN_TEMPLATES:"DesignTemplates",DESIGN_TEMPLATE_CATEGORIES:"DesignTemplateCategories",DESIGN_TEMPLATE_SIZES:"DesignTemplateSizes",PRODUCTS:"Products",EMAIL_TEMPLATES:"EmailTemplates",EMAIL_TEMPLATE_THEMES:"EmailTemplateThemes",EMAIL_TEMPLATE_TYPES:"EmailTemplateTypes",WALKTHORUGH:"Walkthrough",RECENT_POSTERS:"RecentPosters",TESTIMONIES:"Testimonies",DEVICES:"Devices",SCREENS:"Screens",THUMBNAIL:"Thumbnail",DESIGN_TIPS_SLIDES:"DesignTipsSlides",REVIEWS:"Reviews",SUBCATEGORY:"Subcategory"},EVENTS_CREATE_CLICK_GA_EVENT:"Events_Create_Click",EVENTS_POST_DOWNLOAD_DIALOG_GA_EVENT:"Events_Create_Postdownload_Dialog",COMETLY_FINGERPRINT_TOKEN_COOKIE:"pmwcfpt",COMETLY_FINGERPRINT_TOKEN_COOKIE_SEPARATOR:"~",eventQueue:[],init:function(){PMW.enableGTM&&(this.isGTMScriptLoaded_||(window.dataLayer=window.dataLayer||[],window.dataLayer.push(this.onGTMWindowLoaded_),this.isGTMScriptLoaded_=!0,function(e,t,n,o,i){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],s=t.createElement(n);s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+i,a.parentNode.insertBefore(s,a)}(window,document,"script","dataLayer",PMW.GTM_CONTAINER_ID)),this.init_())},trackGA4PurchaseEvent:function(e){PMW.enableGATracking&&this.isGTMScriptLoaded_&&(this.pushEventToQueue_({ecommerce:null}),this.pushEventToQueue_({event:"purchase",ecommerce:{purchase:e}}))},trackGA4PremiumDownloadEvents:function(e){const t=e.ga4CustomEventData;t&&(t.gettyPurchaseEventName&&PMW.gtm.trackGA4CustomEvent(t.gettyPurchaseEventName),t.newOrderEventName&&PMW.gtm.trackGA4CustomEvent(t.newOrderEventName))},trackGA4EventForClickedPopupCta:function(e){e===PMW.marketing.POPUP_ID_DESIGN_REQUEST&&PMW.gtm.trackGA4CustomEvent("Gallery_DesignRequest")},trackGA4CustomEvent:function(e,t={}){PMW.enableGATracking&&this.isGTMScriptLoaded_&&this.pushEventToQueue_({event:"custom_event",events:{name:e,params:t}})},trackNeedMoreTemplatesForGA4:function(e,t){PMW.gtm.trackGA4NeedMoreXEvent(e,PMW.gtm.GA4_CUSTOM_SEARCH_DEFINITION.DESIGN_GALLERY,t,PMW.needMoreTemplatesForSearchTerm)},trackGA4Search:function(e,t,n,o){PMW.enableGATracking&&this.isGTMScriptLoaded_&&(void 0===o&&(o=PMW.gtm.GA4_NEED_MORE_X_MIN_RESULTS),PMW.gtm.trackGA4CustomEvent("view_search_results",{search_term:e}),PMW.gtm.trackGA4NeedMoreXEvent(e,t,n,o))},trackOnlineAdsTrackingEvent:function(e,t){if(PMW.enableOnlineAdsTracking&&this.isGTMScriptLoaded_){if(t.event="online_ads_event",t.onlineAdsTrackingEventType=e,this.isGAdsEnhancedConversion_(e)){const e=PMW.getUserHashedEmail();null!==e&&e.length>0&&(t.userHashedEmail=e)}this.pushEventToQueue_(t)}},setUserPersona:function(){if(!this.isGTMScriptLoaded_)return;let e=PMW.getUserPersonaId();null!==e&&window.dataLayer.push({userPersonaId:e})},trackGA4NeedMoreXEvent:function(e,t,n,o){void 0===o&&(o=PMW.gtm.GA4_NEED_MORE_X_MIN_RESULTS),n<=o&&PMW.gtm.trackGA4CustomEvent(`${PMW.gtm.GA4_NEED_MORE_X_PREFIX}${t}`,{searchTerm:e,numResults:n})},trackGA4CarouselNextEvent:function(e){PMW.gtm.trackGA4CustomEvent(`${e}${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.NEXT_SUFFIX}`)},trackGA4CarouselPreviousEvent:function(e){PMW.gtm.trackGA4CustomEvent(`${e}${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.PREVIOUS_SUFFIX}`)},trackGA4CarouselItemClick:function(e,t){PMW.gtm.trackGA4CustomEvent(`${e}${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.ITEM_CLICK}`,{itemName:t})},trackGA4CarouselToggleButtonClick:function(e){PMW.gtm.trackGA4CustomEvent(`${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.CAROUSEL}${e}${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.TOGGLE_SUFFIX}`)},trackGA4CarouselToggleViewAllClick:function(e){PMW.gtm.trackGA4CustomEvent(`${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.CAROUSEL}${e}s${PMW.gtm.CAROUSEL_ANALYTICS_EVENT_NAME.TOGGLE_VIEW_ALL}`)},trackGA4CustomClick:function(e){PMW.gtm.trackGA4CustomEvent(PMW.gtm.CUSTOM_CLICK_EVENT_TYPE,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.NAME]:e})},trackSignupEvents:function(e){PMW.enableGATracking&&this.isGTMScriptLoaded_&&(this.setUserProps_(),this.trackGA4CustomEvent(PMW.gtm.SIGNUP_EVENT_TYPE,{[PMW.gtm.GA4_EVENT_PARAM_NAMES.SIGNUP_PARAM_NAME]:e}),this.trackOnlineAdsTrackingEvent(this.ONLINE_ADS_EVENT_TYPE_SIGNUP,{}))},initTrackingOnGTM_:function(){PMW.enableGATracking&&window.dataLayer.push({enableGA:1}),PMW.enableOnlineAdsTracking&&PMW.ONLINE_ADS_TRACKING_ENABLED&&window.dataLayer.push({enableOnlineAdsTracking:1}),window.dataLayer.push({personalizationConsent:PMW.enablePersonalizationTracking?"granted":"denied"})},setUserProps_:function(){let e=PMW.getUserHashedId(),t=PMW.getUserHashedEmail(),n=PMW.getUserPersonaId(),o={userType:PMW.getUserType(),userPremiumLevel:PMW.getUserPremiumLevel().toString(),userLifeCycleState:PMW.getUserSalesFunnelState(),userTrialState:PMW.getUserTrialState(),userCountryCode:PMW.getUserEligibleCountryCode()};null!==e&&(o.userHashedId=e),null!==n&&(o.userPersonaId=n),null!==t&&(o.userHashedEmail=t),window.dataLayer.push(o)},isGAdsEnhancedConversion_:function(e){return e===PMW.gtm.ONLINE_ADS_EVENT_TYPE_SUBSCRIPTION_PURCHASE||e===PMW.gtm.ONLINE_ADS_EVENT_TYPE_TRIAL_CONVERTED||e===PMW.gtm.ONLINE_ADS_EVENT_TYPE_TRIAL_START},init_:function(){this.isGTMScriptLoaded_&&(this.initTrackingOnGTM_(),this.setUserProps_())},isGTMWindowLoaded_:function(){return"object"==typeof window.google_tag_manager&&"object"==typeof window.google_tag_manager.dataLayer&&window.google_tag_manager.dataLayer.gtmLoad},onGTMWindowLoaded_:function(){PMW.gtm.eventQueue.length>0&&window.dataLayer.some((e=>"gtm.load"===e.event))&&PMW.gtm.fireAllEventsInQueue_()},pushEventToQueue_:function(e){this.isGTMWindowLoaded_()?window.dataLayer.push(e):this.eventQueue.push(e)},fireAllEventsInQueue_:function(){for(;PMW.gtm.eventQueue.length>0;){const e=PMW.gtm.eventQueue.shift();window.dataLayer.push(e)}}},userConsent:{initManageConsentForm_:!1,getConsentCookieValues:function(){let e=PMW.util.readCookie("pmwuc");if(null===e)return null;let t=e.split(",");return{auto:"1"===t[0],googleAnalytics:"1"===t[1],onlineAds:"1"===t[2],personalization:"1"===t[3]}},checkConsent:function(){let e,t=new XMLHttpRequest;t.open("GET",PMW.util.site_url("user/checkConsent"),!0),t.onload=function(){if(this.status>=200&&this.status<400){try{e=JSON.parse(this.response)}catch(e){return}if("success"===e.status&&void 0!==e.data){let t=e.data,n=t.auto,o=t.googleAnalytics,i=t.onlineAds,a=t.personalization;!0===t.ask?PMW.userConsent.showUserConsentForm():(PMW.userConsent.setConsentCookieValues(n,o,i,a),PMW.enableGATracking=!(!n&&!o)&&!1!==PMW.enableGATracking,PMW.enableOnlineAdsTracking=!(!n&&!i)&&!1!==PMW.enableOnlineAdsTracking,PMW.enablePersonalizationTracking=!(!n&&!a)&&!1!==PMW.enablePersonalizationTracking,PMW.gtm.init())}}},t.send()},manageUserConsent:function(e){let t=$(e.currentTarget);PMW.userConsent.hideUserConsentForm(),PMW.userConsent.showManageConsentDialog({googleAnalytics:"1"===t.attr("data-google-analytics-consent"),onlineAds:"1"===t.attr("data-online-ads-consent"),personalization:"1"===t.attr("data-personalization-consent")})},showUserConsentForm:function(){let e=$("#user-consent-form");e.removeClass("_hidden").css("display",""),PMW.initConsentForm_||(PMW.initConsentForm_=!0,PMW.onClick(e.find(".btn-manage-consent"),null,PMW.userConsent.manageUserConsent),PMW.onClick(e.find(".btn-give-consent"),null,PMW.userConsent.sendUserConsent.bind(this,{googleAnalytics:!0,onlineAds:!0,personalization:!0})))},hideUserConsentForm:function(){let e=$("#user-consent-form");e.length>0&&e.addClass("_hidden").removeClass("-processing")},showManageConsentDialog:function(e){let t=$("#manage-cookie-modal");$("#chk-google-analytics").prop("checked",e.googleAnalytics),$("#chk-online-ads").prop("checked",e.onlineAds),$("#chk-personalization").prop("checked",e.personalization),t.removeClass("_hidden").css("display",""),t.css("z-index",1e4),this.initManageConsentForm_||(this.initManageConsentForm_=!0,PMW.onClick(t.find(".btn-done"),null,PMW.userConsent.onManageConsentDone.bind(this,e)),PMW.onClick(t.find(".btn-cancel"),null,PMW.userConsent.hideManageConsentDialog))},onManageConsentDone:function(e){let t={googleAnalytics:$("#chk-google-analytics").is(":checked"),onlineAds:$("#chk-online-ads").is(":checked"),personalization:$("#chk-personalization").is(":checked")};PMW.userConsent.getConsentCookieValues()&&JSON.stringify(e)===JSON.stringify(t)?PMW.userConsent.hideManageConsentDialog():PMW.userConsent.sendUserConsent(t)},hideManageConsentDialog:function(){$("#manage-cookie-modal").addClass("_hidden"),PMW.userConsent.getConsentCookieValues()||PMW.userConsent.showUserConsentForm()},onSetConsentDone:function(e){PMW.userConsent.setConsentCookieValues(!1,e.googleAnalytics,e.onlineAds,e.personalization),PMW.userConsent.hideManageConsentDialog(),PMW.userConsent.hideUserConsentForm(),PMW.initTracking()},sendUserConsent:function(e){"notloggedin"!==PMW.getUserId()?($("#user-consent-form").addClass("-processing"),PMW.write(PMW.util.site_url("user/setConsent"),e,PMW.userConsent.onSetConsentDone.bind(this,e))):PMW.userConsent.onSetConsentDone(e)},setConsentCookieValues:function(e,t,n,o){let i=e?"1":"0",a=t?"1":"0",s=n?"1":"0",r=o?"1":"0";window.PMW.isEmbedded()&&"requestStorageAccess"in document&&(PMW.isSafari()||PMW.isIOS())?document.requestStorageAccess().then((()=>{PMW.util.setCookie("pmwuc",i+","+a+","+s+","+r,PMW.TRACKING_COOKIE_EXPIRY)})):PMW.util.setCookie("pmwuc",i+","+a+","+s+","+r,PMW.TRACKING_COOKIE_EXPIRY)}},init:function(){window.onerror=PMW.onWindowError,PMW.initializeCache("pmw",PMW.VERSION),PMW.initPremiumCookieForNavLinks(),PMW.setupNavExperiment(),PMW.setupJavaScriptExperiment(),PMW.initEligibleCountryCode(),PMW.updateFooterContent(),PMW.initGA4TrackingForNavBarSearch()},csrfSelector:"input[class=js-csrf-input]",load:function(e,t,n,o,i){let s,r,l,d=e,c=t.indexOf(" "),u=null,m=PMW.VERSION,_=PMW.HTML_VERSION,g=PMW.getUserId();return c>=0&&(s=t.slice(c,t.length),t=t.slice(0,c)),jQuery.isFunction(n)?(o=n,n=void 0):n&&"object"==typeof n&&(l="POST"),d.length>0&&(PMW.getCsrfToken(function(e,c){var p="csrf_token",M=document.querySelector('meta[name="data-csrf-name"]');if(M&&(p=M.content),"object"==typeof n){null===n&&(n={});let t=[[p,e],["_v",_],["_jv",m],["_rand",g],["csrf_token_source",c],["data_type",PMW.objectDataType]];for(const[e,o]of Object.entries(n))t.push([e,o]);n=Object.fromEntries(t)}const E={url:t,type:l,dataType:"html",data:n,beforeSend:function(){i&&null!=PMW.currentAjaxRequest[i]&&PMW.currentAjaxRequest[i].abort()}};a(E),PMW.addAjaxParamsForSubdomainToSubfolderRequests(E),u=jQuery.ajax(E).done((function(e){r=arguments,d.html(s?jQuery("<div>").append(jQuery.parseHTML(e)).find(s):e)})).complete(o&&function(e,t){d.each(o,r||[e.responseText,t,e]),PMW.currentAjaxRequest[i]=null})}.bind(this)),i&&(PMW.currentAjaxRequest[i]=u)),e},getCsrfToken:function(e){var t=this.util.readCookie("csrf_cookie");return null===t?this.getRequest("authenticate/getCsrfData").then((function(n){return null===(t=PMW.util.readCookie("csrf_cookie"))?e(n.data["csrf-token-hash"],PMW.csrfSourceAjaxRequestResponse):e(t,PMW.csrfSourceCookieAfterAjaxRequest)})):e(t,PMW.csrfSourceCookie)},write:function(e,t,n,o,i={}){var s=PMW.VERSION,r=PMW.HTML_VERSION,l=PMW.getUserId(),d="_jv",c="_rand",u="csrf_token_source",m="data_type";return l="notloggedin"===l?"Anon":l,"function"==typeof t&&(o=o||n,n=t,t={}),"object"!=typeof t&&"string"!=typeof t&&(t={}),PMW.getCsrfToken((function(_,g){var p="csrf_token",M=document.querySelector('meta[name="data-csrf-name"]');if(M&&(p=M.content),"object"==typeof t)if(null===t&&(t={}),t instanceof FormData){let e=new FormData;e.append(p,_),e.append("_v",r),e.append(d,s),e.append(c,l),e.append(u,g),e.append(m,PMW.formDataType);for(const n of t.entries())e.append(n[0],n[1]);t=e,i.processData=!1,i.contentType=!1}else{let e=[[p,_],["_v",r],[d,s],[c,l],[u,g],[m,PMW.objectDataType]];for(const[n,o]of Object.entries(t))e.push([n,o]);t=Object.fromEntries(e)}return"string"==typeof t&&(t.search(p)>=0?t=t.replace(p+"="+PMW.util.getQueryStringValue(p,"?"+t),p+"="+_):(""!==t&&(t+="&"),t+="_v="+r+"&",t+=d+"="+s+"&",t+=c+"="+l+"&",t+=p+"="+_+"&",t+=u+"="+g+"&",t+=m+"="+PMW.stringDataType)),i.type="POST",i.url=e,void 0!==t&&(i.data=t),void 0!==n&&(i.success=n),void 0!==o&&(i.dataType=o),a(i),PMW.addAjaxParamsForSubdomainToSubfolderRequests(i),$.ajax(i).fail((function(e){if(403===e.status){e.data=e.responseJSON;const t=i18next.t("pmwjs_unauthorized_request_error");n!==$.noop&&void 0!==n&&alert(t)}else n!==$.noop&&void 0!==n&&n(e)}))}))},writeLocal:async function(e,t,o,i={}){let a=await PMW.write(PMW.util.site_url(e),t,$.noop,o,i);if("success"===a.status)return a.data;throw n(a,e,t)},readLocal:async function(e,t,o,i,a=void 0){let s=await PMW.getRequest(e,t,o,i,a);if("success"===s.status)return s.data;throw n(s,e,t)},formSubmit:function(e){if(!window.location.href.includes("index.php/manageapp/")){e.preventDefault();var t=$(e.currentTarget);PMW.getCsrfToken((function(e){t.find(PMW.csrfSelector).val(e),t.get(0).submit()}))}},pollingAjaxCallAsync:async function(e,t,n=18e5,o=null){let i=await e(),a=performance.now(),s=!1,r=()=>s=!0;for(o&&document.addEventListener(this.getPollingStopEvent(o),r);!s&&performance.now()-a<n;){let e=await t(i);if(e.isAvailable)return e.data}o&&document.removeEventListener(this.getPollingStopEvent(o),r)},getPollingStopEvent:function(e){return`polling:stop:${e}`},pollingAjaxCall:function(e,t,n,o){e().done(this.onInitialAjaxCallSuccess_.bind(this,t,n,o)).fail(o)},onInitialAjaxCallSuccess_:function(e,t,n,o){"error"===o.status?n(o.message):this.pollAjaxCall_(e,t,n,o.data)},pollAjaxCall_:function(e,t,n,o){e(o).done(this.isPollingAjaxCallFinished_.bind(this,e,t,n,o)).fail(n)},isPollingAjaxCallFinished_:function(e,t,n,o,i){"success"===i.status&&i.data?i.data.isAvailable?t(i.data.data):this.pollAjaxCall_(e,t,n,o):n()},onWindowError:function(e,t,n,o,i){if("string"==typeof t&&t.length>0&&t.indexOf(PMW.BASE_URL)>0){var a=o?"\ncolumn: "+o:"",s="Error: "+e+"\nurl: "+t+"\nline: "+n+(a+=i?"\nerror: "+i:"");PMW.log(s)}return!1},initPremiumCookieForNavLinks:function(){null===PMW.getUserPremiumLevel()&&"regular"===PMW.getUserType()&&void 0!==window.appendNavLinksForPremium&&PMW.getCsrfToken((function(e){var t="csrf_token",n=document.querySelector('meta[name="data-csrf-name"]');n&&(t=n.content);var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText.length>0&&"1"===JSON.parse(this.responseText).data.premium&&window.appendNavLinksForPremium()},o.open("POST",PMW.util.site_url("premium/getUserPremiumLevelJSON"),!0),o.send(t+"="+encodeURIComponent(e))}))},processConsentValue:function(e){PMW.enableGATracking=!1!==PMW.enableGATracking&&e,PMW.enableOnlineAdsTracking=!1!==PMW.enableOnlineAdsTracking&&e,PMW.enablePersonalizationTracking=!1!==PMW.enablePersonalizationTracking&&e,PMW.gtm.init()},initTrackingForIOSApp:function(){if(window.webkit&&window.webkit.messageHandlers){window.webkit.messageHandlers.trackingConsent.postMessage({});const e=async t=>{if("askAgain"===t.detail.message)return;const n="allowed"===t.detail.message?"1":"0";PMW.processConsentValue(n),document.removeEventListener("trackingConsent",e)};document.addEventListener("trackingConsent",e)}else PMW.openErrorModal({log:!1})},initTracking:function(){if(PMW.isIOSApp())return void PMW.initTrackingForIOSApp();let e=PMW.userConsent.getConsentCookieValues();null===e?PMW.userConsent.checkConsent():(PMW.enableGATracking=!1!==PMW.enableGATracking&&(e.googleAnalytics||e.auto),PMW.enableOnlineAdsTracking=!1!==PMW.enableOnlineAdsTracking&&(e.onlineAds||e.auto),PMW.enablePersonalizationTracking=!1!==PMW.enablePersonalizationTracking&&(e.personalization||e.auto),PMW.gtm.init())},initEligibleCountryCode:function(){"notloggedin"!==PMW.getUserId()&&null===PMW.util.readCookie("pmwuecc")&&PMW.getRequest("user/getUserEligibleCountryCode").done((function(e){"success"===e.status&&PMW.util.setCookie("pmwuecc",e.data.eligibleCountryCode,PMW.ELIGIBLE_COUNTRY_CODE_COOKIE_EXPIRY)}))},updateFooterContent:function(){navigator.userAgent.includes("iosPwaApp")&&$(".js-pmw-footer").addClass("_hidden")},initRecaptcha:function(){if(!PMW.isRecaptchaInit){PMW.isRecaptchaInit=!0;var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.text="var recaptchaLoaded = "+String((function(){PMW.grecaptchaReady=!0,PMW.isPosterMaker()&&$(".grecaptcha-badge").css("visibility","hidden");var e=$(".js-btn-login");e.parent().removeClass("default -disabled"),e.removeAttr("-disabled");var t=$(".js-btn-signup");t.removeClass("-disabled"),t.removeAttr("-disabled"),$(".js-btn-student-login").removeClass("-disabled");var n=$([".js-btn-login-async",".js-btn-create-async",".js-btn-student-async"].join(", "));n.removeClass("-disabled"),n.removeAttr("-disabled"),PMW.setLoading(null)})),t.parentNode.insertBefore(e,t);var n=document.createElement("script");t=document.getElementsByTagName("script")[0],n.async=1,n.src="//www.recaptcha.net/recaptcha/api.js?onload=recaptchaLoaded&render="+PMW.RECAPTCHA_V3_KEY,t.parentNode.insertBefore(n,t)}},initRecaptchav2:function(){let e=document.createElement("script");m=document.getElementsByTagName("script")[0],e.async=1,e.src="https://www.google.com/recaptcha/api.js",m.parentNode.insertBefore(e,m)},setupNavExperiment:function(){if(PMW.NAV_EXPERIMENTS&&PMW.NAV_EXPERIMENTS.length>0)for(var e=0;e<PMW.NAV_EXPERIMENTS.length;e++){var t="nevk_"+PMW.NAV_EXPERIMENTS[e].experimentId;PMW.util.readCookie(t)}},setupJavaScriptExperiment:function(){PMW.JAVASCRIPT_EXPERIMENT&&PMW.EXPERIMENT_ID&&PMW.VARIATION_NUMBER},openEmailOptInModal:function(e,t,n=!1){n?PMW.onConnectSuccess(e,t):(PMW.setLoading(null),PMW.openCompleteSignupModal({onConnect:PMW.onConnectSuccess.bind(this,e,t)}))},onConnectSuccess:function(e,t,n,o,i=""){if("refresh"===e)window.location.reload();else if(e>0){let a=t.getPostLoginAction();"string"==typeof a&&""!==a?(void 0!==n&&void 0!==o&&(a=a.replace(n,o)),window.location.href=decodeURIComponent(a)):$.isFunction(a)||"function"==typeof a?(PMW.USER_PREFERRED_LANGUAGE=i||PMW.util.getLanguage(),a(e)):window.location.href=PMW.util.site_url("posters/mine")}},onClick:function(e,t,n,o=0,i="click"){return"undefined"!=typeof $&&void 0!==$.vmouse||(PMW.click=i),isNaN(o)||0===o?e.on(PMW.click,t,(function(e){e.preventDefault();var t=$(e.currentTarget);t.hasClass("disabled")||1==t.prop("disabled")||n.apply(this,[e]),void 0!==typeof PMW.gtm&&t.is("[ga4-click-name]")&&PMW.gtm.trackGA4CustomClick(t.attr("ga4-click-name"))})):(e.data("dblTimer",-1),e.on(PMW.click,t,(function(t){t.preventDefault(),$(t.currentTarget).hasClass("disabled")||-1!==e.data("dblTimer")||(e.data("dblTimer",setTimeout((function(){e.data("dblTimer",-1)}),o)),n.apply(this,[t]))}))),e},onClickV2:function(e,t,n,o=0){PMW.onClick(e,t,n,o,"click touchstart")},startButtonLoading:function(e,t){"function"!=typeof t&&(t=function(){});var n=e.find(".default-label"),o=e.find(".loading-state");e.parent().addClass("-loading"),n.addClass("animated -fill-mode-forwards slideOut -to-bottom").one(PMW.util.animationEndEvents,(function(){n.addClass("_hidden").removeClass("slideOut -to-bottom"),o.removeClass("_hidden").addClass("animated -fill-mode-forwards slideIn -from-top").one(PMW.util.animationEndEvents,(function(){o.removeClass("slideIn -from-top"),t()}))}))},completeButtonLoading:function(e,t,n,o){"function"!=typeof n&&(n=function(){}),"function"!=typeof o&&(o=function(){});var i="success"===t?n:o,a="success"===t?"-animate-loaded":"-animate-failed",s=e.find(".loader-container"),r=e.find(".loading-state"),l=r.find(".loading-label"),d=r.find(".loaded-label.-"+t),c=e.find(".default-label");s.removeClass("-animate-loading").addClass(a),l.addClass("animated -fill-mode-forwards slideOut -to-bottom").one(PMW.util.animationEndEvents,(function(){l.addClass("_hidden").removeClass("slideOut -to-bottom"),d.removeClass("_hidden").addClass("animated -fill-mode-forwards slideIn -from-top").one(PMW.util.animationEndEvents,(function(){d.removeClass("slideIn -from-top"),setTimeout((function(){e.parent().removeClass("-loading"),r.addClass("animated -fill-mode-forwards slideOut -to-top").one(PMW.util.animationEndEvents,(function(){r.addClass("_hidden").removeClass("slideOut -to-top"),c.removeClass("_hidden").addClass("animated -fill-mode-forwards slideIn -from-bottom").one(PMW.util.animationEndEvents,(function(){r.removeClass("slideIn -from-bottom")}))})),s.removeClass(a).addClass("-animate-loading"),l.removeClass("_hidden"),d.addClass("_hidden"),i()}),1500)}))}))},initHeader:function(){function e(e,t){var n=document.getElementById(e);n&&(n.innerHTML=t)}function t(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}let n=PMW.util.readCookie("pmwn"),o=document.getElementById("nav");o&&(null!==n&&"new+user"!==n&&(n=PMW.util.escapeHTML(decodeURIComponent(n.replace(/\+/g," "))),t("navauth"),t("nav-auth-small"),document.getElementById("navuser").setAttribute("title",n),e("ulname",n),e("ulname-toggled",n),o&&(o.className+=" -loggedin")),PMW.util.readCookie("pmwla")&&o&&(o.className+=" -su"))},getUserType:function(){var e=PMW.util.readCookie("pmwi2");if("string"==typeof e){var t=e.split(".");if(t.length>1)return"premium"!==t[1]&&"premium-plus"!==t[1]||(t[1]="regular",PMW.util.setCookie("pmwi2",t.join("."),14)),t[1]}return"notloggedin"},isReferrer:function(){return!document.referrer.includes(PMW.BASE_URL)},isVerificationNeeded:function(){var e=PMW.util.readCookie("pmwi2");if("string"==typeof e){var t=e.split(".");if(t.length>3)return parseInt(t[3])}return 0},getUserPremiumLevel:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(1);return null===e?0:parseInt(e)},isUserPremiumLevel0:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(1);return null===e||0===parseInt(e)},isUserPremiumLevel1:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(1);return null!==e&&1===parseInt(e)},isUserPremiumLevel2:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(1);return null!==e&&2===parseInt(e)},getUserTrialState:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(3);return null===e?0:parseInt(e)},isUserResellerClientTeamMember:function(){return"2"===PMW.getValueAtIndexFromSubscriptionDetailsCookie(2)},getUserSubscriptionPlanMonths:function(){let e=PMW.getValueAtIndexFromSubscriptionDetailsCookie(0);return null===e&&(e=0),parseInt(e)},getValueAtIndexFromSubscriptionDetailsCookie:e=>{const t=PMW.util.readCookie("pmwsd");return"string"==typeof t?t.split("~")[e]:null},isPAYGUser:function(){return 0===PMW.getUserPremiumLevel()},isUserPremium:function(){return PMW.getUserPremiumLevel()>0},getUserEligibleCountryCode:function(){let e="notloggedin"===PMW.getUserId()?"pmwaecc":"pmwuecc";return PMW.util.readCookie(e)||"US"},getUserId:function(){var e=PMW.util.readCookie("pmwi2");if("string"==typeof e){var t=e.split(".");if(t.length>1)return parseInt(t[0])}return"notloggedin"},isUserLoggedIn:function(){return"notloggedin"!==PMW.getUserId()},toggleLoggedInClass:function(){PMW.isUserLoggedIn()&&$("html").addClass("-loggedin")},getUserHashedId:function(){var e=PMW.util.readCookie("pmwi2");if("string"==typeof e){var t=e.split(".");if(t.length>4)return t[4]}return null},getUserHashedEmail(){const e=PMW.util.readCookie("pmwuhe");return"string"==typeof e?e:null},getAnonUserId:function(){return""===this.anonUserId_&&(this.anonUserId_=this.util.createRandomId()),this.anonUserId_},getUserPersonaId:function(){var e=PMW.util.readCookie("pmwpi");return"string"==typeof e?e:null},getUserSalesFunnelState:function(){let e=PMW.util.readCookie("pmwi2");if("string"==typeof e){let t=e.split(".");if(t.length>5)return t[5]}return null},isNewUser:function(){let e=PMW.util.readCookie("pmwnu");return"string"==typeof e&&"1"===e},deleteNewUserCookie:function(){PMW.util.deleteCookie("pmwnu")},isEDU:function(){var e=this.getUserType();return"teacher"===e||"student"===e},sendPosterMakerMessageIframe:function(){this.isEmbedded()&&(void 0===PMW.plugin?PMW.getJsAssetGroup("iframePlugin",function(){void 0!==PMW.plugin&&PMW.plugin.initiateComWithIframe()}.bind(this)):PMW.plugin.initiateComWithIframe())},isEmbedded:function(){if(window.PMW.isStorybook())return!1;try{return window.self!==window.top}catch(e){return!0}},isStorybook:function(){return window.location.href.indexOf("storybook.localpostermywall")>-1},initEmbeddedModeUI:function(){this.isEmbedded()&&($("body").addClass("-embedded"),$(".embedded-remove-url").attr("href","javascript:void(0);").attr("title",""))},isTeacher:function(){return"teacher"===this.getUserType()},executeOnGlobalFunctionLoaded:function(e,t){PMW.isLocal()?PMW.waitForGlobalFunction(e).then(t).catch((function(e){console.error(e)})):t()},waitForGlobalFunction:function(e,t=1e4){return new Promise(((n,o)=>{const i=t/50;let a=0;const s=setInterval((()=>{window.PMW[e]?(clearInterval(s),n()):a>=i&&(clearInterval(s),o(new Error(`Timeout: ${e} not available. Refresh the page`))),a++}),50)}))},isStudent:function(){return"student"===this.getUserType()},hideForEDU:function(e){PMW.isEDU()&&(e||(e=document),$(".eduhide",e).hide())},isScrolledIntoView:function(e,t,n){n||(n=0);var o=$(window),i=$(e),a={top:o.scrollTop(),left:o.scrollLeft()};a.right=a.left+o.width(),a.bottom=a.top+o.height();var s=i.offset();s.right=s.left+i.outerWidth(),s.bottom=s.top+i.outerHeight();var r=s.top+i.height(),l=i.height();return t&&(l=i.height()/3),!(s.bottom<a.top||s.top>a.bottom)&&r-(l-n)<=a.bottom&&!(a.right<s.left||a.left>s.right)},toggleForDesigner:function(e){"designer"===PMW.getUserType()&&(e||(e=document),$(".designer-toggle:visible").remove(),$(".designer-toggle",e).removeClass("hidden").show())},setUserPremiumLevel:function(e){var t;switch(e||(e=document),PMW.getUserPremiumLevel()){case 1:t="premium-plan-one";break;case 2:t="premium-plan-two";break;default:t="non-premium"}$("body",e).removeClass("premium-plan-one premium-plan-two non-premium").addClass(t)},hideForStudent:function(e){if(PMW.isStudent()){e||(e=document);var t=$(e).find("a.student-redirect");return $.each(t,(function(){$(this).attr("href",PMW.util.site_url("edu/denied"))})),$(".student-hide",e).removeClass("visible-desktop").hide(),!0}return!1},toggleInOut:function(e,t){return t&&e.hasClass("out")?e.removeClass("out").addClass("in"):!t&&e.hasClass("in")&&e.removeClass("in").addClass("out"),e},changeSearchForStudent:function(e){e||(e=$("#nav form").not(".js-list-item-form")),e.attr("action",PMW.util.site_url("posters/searchBackgrounds"))},isOldPosterMaker:function(){return"undefined"!=typeof PMConfig},isReactPosterMaker:function(){return!0===window.isPosterMaker},isPosterMaker:function(){return this.isOldPosterMaker()||this.isReactPosterMaker()},log:function(e){PMW.write(PMW.util.site_url("logerror/clientlog"),{message:encodeURIComponent(e)})},trackOnlineAdsEvent:function(e,t,n,o){let i={};null!==t&&(i.orderType=t),null!==n&&(i.orderValue=n),null!==o&&(i.orderId=o),PMW.gtm.trackOnlineAdsTrackingEvent(e,i)},isNotAlreadyViewed:function(e){return 1!=e.attr("data-viewed")},incrementPosterView:function(e,t,n,o){null!==e&&PMW.write(PMW.util.site_url("poster/viewed"),{id:e,idcreator:t,"ignored[]":n,type:o})},incrementPosterSeenStat:function(e,t="poster/seen"){0!==e.length&&PMW.write(PMW.util.site_url(t),{templateIds:e})},doThumbnailView:function(e,t,n){void 0===n&&(n="data-seq");var o=e.hasClass("video-item")?".video-item":".image-item";e.attr("data-viewed",1);for(var i=e.prevAll(o+'[data-viewed!="1"]').attr("data-viewed",1),a=[],s=0;s<i.length;s++)a[a.length]=$(t.length>0?$(t,i[s]):i[s]).attr(n);return a},showEmailDialogMessage:function(e){var t=$("#emailsignup-modal");t.hasClass("-with-message")?(e.show(250),e.addClass("animated flash").one(PMW.util.animationEndEvents,(function(){e.removeClass("animated flash")}))):(t.addClass("-with-message"),e.show(250))},showEmailRequiredDialog:function(e,t,n){let o,i,a,s,r,l,d,c,u,m,_={};_[i18next.t("pmwjs_continue")]=function(){function t(){s.hide(),r.hide(),a.hide(),l.hide()}o=$("#emailsignup"),i=$(".content .password-field"),a=$(".error-empty-password"),s=$(".error-wrong-password"),r=$(".error-response"),l=$(".error-existing-email"),c=$("#invalidemail"),d=m.find(".modal-content"),u=m.find(".modal-btn-close"),t();var n=$.trim(o.val()),_=$("#verify-password"),g=$.trim(_.val());o.on("keyup",(function(){i.hide(),t(),d.removeClass("add-password-row")})),PMW.isOldPosterMaker()&&PMW.onClick(u,null,(function(){!function(){var e={};e[i18next.t("pmwjs_cancel")]=function(){PMW.closeModalDialog("emailsignup-confirmation-modal")},e[i18next.t("pmwjs_close")]=function(){PMW.closeModalDialog("emailsignup-confirmation-modal"),PMW.closeModalDialog("emailsignup-modal")};var t=PMW.openModalDialog("emailsignup-confirmation-modal",i18next.t("pmwjs_cancel_login_using_fb"),e,!1,"-modal-250 -flex",!1);t.find(".content").html("<h5>"+i18next.t("pmwjs_sure_cancel_logging_in_with_fb")+"</h5>"),t.find(".close").hide()}()})),n.length>0?i.is(":hidden")?PMW.write(PMW.util.site_url("authenticate/verifyUserEmailState"),{email:n},(function(a){if("success"===a.status)switch($("#invalidemail").hide(),a.data.state){case"allow":e(n),PMW.closeModalDialog("emailsignup-modal"),t();break;case"ask-password":i.show(),d.addClass("add-password-row");break;case"redirect":return void(PMW.isPosterMaker()?(PMW.showEmailDialogMessage(l),u.show()):(PMW.closeModalDialog("emailsignup-modal"),d.removeClass("add-password-row"),window.location.href=PMW.util.site_url("authenticate/showlogin")));case"invalid":PMW.showEmailDialogMessage(c),_.focus()}else PMW.showEmailDialogMessage(r),o.focus()})):g.length>0?PMW.write(PMW.util.site_url("authenticate/verifyUserEmailAndPassword"),{email:n,password:g},(function(t){"success"===t.status?t.data.match?(PMW.closeModalDialog("emailsignup-modal"),e(n,g)):(PMW.showEmailDialogMessage(s),_.focus()):(PMW.showEmailDialogMessage(r),o.focus())})):(PMW.showEmailDialogMessage(a),_.focus()):(PMW.showEmailDialogMessage(c),o.focus())};let g=i18next.t("pmwjs_email_required"),p="",M=i18next.t("pmwjs_enter_email_to_login"),E='<span class="fineprint">'+i18next.t("pmwjs_hate_spam_much_you_do")+"</span>",P=i18next.t("pmwjs_account_with_email_exists_enter_password",{ssoName:n}),f="hidden",h=!0;"undefined"!==t&&""!==t&&(g=i18next.t("pmwjs_account_already_exists"),p=" -long",M=i18next.t("pmwjs_email"),E="",P=i18next.t("pmwjs_password"),f="",h=!1),m=PMW.openModalDialog("emailsignup-modal",g,_,!1,"-modal-500 -flex"+p,!1),h&&m.find(".close").hide(),m.find(".content").html('<div id="invalidemail" class="danger alert body-s -top hidden">'+i18next.t("pmwjs_valid_email_address")+'</div><div id="nonssoaccount" class="danger alert body-s -top hidden">'+i18next.t("pmwjs_account_with_email_already_exists_use_email_password_to_link",{email:t,socialAccount:n})+'</div><div class="field"><label for="emailsignup">'+M+'</label><input type="email" class="text input" id="emailsignup" placeholder="'+i18next.t("pmwjs_enter_your_email_address")+'" autocapitalize="off" autocorrect="off" autocomplete="email" value="'+t+'">'+E+'</div><div class="field password-field '+f+'"><label for="verify-password">'+P+'</label><input type="password" class="text input" id="verify-password" placeholder="'+i18next.t("pmwjs_enter_your_password")+'" autocapitalize="off" autocorrect="off" /></div><div class="error-empty-password danger alert hidden">'+i18next.t("pmwjs_please_enter_a_password")+'</div><div class="error-wrong-password danger alert hidden">'+i18next.t("pmwjs_incorrect_password")+'</div><div class="error-response danger alert hidden">'+i18next.t("pmwjs_error_try_again_reload_page")+'</div><div class="error-existing-email danger alert hidden">'+i18next.t("pmwjs_fb_account_already_associated_with_email")+"</div>")},showAlternativeEmailRequiredDialog:function(e,t){var n={};n[i18next.t("pmwjs_cancel")]=function(){PMW.closeModalDialog("alternative-email-modal")},n[i18next.t("pmwjs_continue")]=function(){o=i.find(".email");var e=$.trim(o.val());e.length>0?(PMW.closeModalDialog("alternative-email-modal"),t(e)):(PMW.showEmailDialogMessage($("#invalidemail")),o.focus())};var o,i=PMW.openModalDialog("alternative-email-modal",i18next.t("pmwjs_alternative_email_required"),n,!1,"-modal-550 -flex");i.find(".content").html("<p>"+i18next.t("pmwjs_account_with_email_exists_provide_alternative",{email:PMW.util.escapeHTML(e)})+'</p><div class="field"><input type="email" class="text input email" placeholder="'+i18next.t("pmwjs_enter_your_email_address")+'" autocapitalize="off" autocorrect="off" autocomplete="email"/></div><p><a href="javascript:void(0)" class="existing-account-info">'+i18next.t("pmwjs_click_here_for_more_info")+'</a></p><div id="invalidemail" class="danger alert hidden">'+i18next.t("pmwjs_valid_email_address")+"</div>"),PMW.onClick(i.find(".existing-account-info"),null,PMW.showExistingAccountDialog.bind(this,e))},showExistingAccountDialog:function(e){var t={};t[i18next.t("pmwjs_ok")]=function(){PMW.closeModalDialog("existing-account-modal")},PMW.openModalDialog("existing-account-modal",i18next.t("pmwjs_account_already_exists"),t,!1,"-modal-550 -modal-h-450 -flex").find(".content").html("<p>"+i18next.t("pmwjs_account_with_email_exists_provide_alternative",{email:PMW.util.escapeHTML(e)})+"</p><p>"+i18next.t("pmwjs_if_forgot_password_use_forgot_your_password",{email:PMW.util.escapeHTML(e)})+"</p><p>"+i18next.t("pmwjs_access_designs_another_account_use_share")+"</p><p>"+i18next.t("pmwjs_if_transfer_designs_contact_support",{href:PMW.util.site_url("user/feedbackHelpCenter")})+"</p>")},premiumContentBlockMessage:function(e){var t="premium-cannot-purchase-modal",n={};n[i18next.t("pmwjs_close")]=function(){"function"==typeof e&&e(),PMW.closeModalDialog(t)},PMW.openModalDialog(t,i18next.t("pmwjs_cannot_purchase_premium_content"),n,!1,PMW.isPosterMaker()?"-flex":"").find(".content").html("<p>"+i18next.t("pmwjs_cannot_buy_only_getty_images")+"</p>")},posterResizedWarningMessage:function(e){var t="poster-resized-warning-modal",n={};n[i18next.t("pmwjs_ok")]=function(){PMW.closeModalDialog(t)},PMW.openModalDialog(t,i18next.t("pmwjs_poster_resized_warning"),n,!0,PMW.isPosterMaker()?"-flex":"").find(".content").html('<div class="icon-wrapper"><i class="icon-info"></i></div><p class="message">'+i18next.t("pmwjs_poster_resized_to_new_dimensions",{posterType:PMW.util.escapeHTML(e.type.displayName),description:e.type.description})+"</p>")},downloadPoster:function(e,t,n){PMW.isMobileOS()&&!PMW.isFirefox()?fetch(e).then((e=>e.blob().then((e=>{const o=(new Date).getTime(),i=`${t}_${o}.${n}`,a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=i,document.body.appendChild(s),s.click(),URL.revokeObjectURL(a),document.body.removeChild(s)})))):window.location.href=e},openDownloadDialog:function(e,t){PMW.util.require(void 0===PMW.doOpenDownloadDialog,"downloadDialog",!0,(function(){PMW.doOpenDownloadDialog(e,t)}))},openGalleryDialog:function(e,t=!1,n="",o={showEventsWizardBanner:!1,shouldUpsellForSemanticTagging:!1},i=!0){PMW.isUserLoggedIn()?(i&&PMW.setLoading(window.i18next.t("pmwjs_loading")),PMW.util.require(!0,"galleryDialog",!0,(function(){PMW.doOpenGalleryDialog(e,t,n,o)}))):PMW.util.redirectToLoginPage(window.location.href)},openSummaryDialog:function(e,t,n,o,i,a){PMW.setLoading(i18next.t("pmwjs_loading")),PMW.util.require(!0,"summaryDialog",!0,PMW.doOpenSummaryDialog.bind(this,e,t,n,o,i,a))},doOpenSummaryDialog:function(e,t,n,o,i,a){PMW.write(PMW.util.site_url("cart/purchaseSummary"),{hid:e,prodid:t,mode:n,isPosterMaker:PMW.isPosterMaker()?1:0}).done((function(e){if(PMW.setLoading(null),"success"===e.status){var t=PMW.openModalDialog("summary-dialog","download"===n?i18next.t("pmwjs_pay_and_download"):i18next.t("pmwjs_pay_and_publish"),{},!0,"-auto");t.find(".content").html(e.data),PMW.onClick(t,".pay-credits",(function(){$(this).find(".btn-continue-checkout").prop("disabled",!0),PMW.setLoading(i18next.t("pmwjs_processing")),o()})),PMW.onClick(t,".btn-buy-credits",(function(){function e(e){t.find(".count.-credits").html(parseInt(e.credits)),PMW.closeModalDialog("checkout-modal")}PMW.enableCheckoutV2?PMW.stripeCheckout.showStripeCheckoutForCreditPackPurchase(e):PMW.checkout.showCheckoutDialog(PMW.checkout.MODE_BUY_CREDIT_PACK,{cb:e})})),"function"==typeof a&&PMW.onClick(t,".header .modal-btn-close",a),window.initResponsiveToolTips&&initResponsiveToolTips()}else"function"==typeof i?i(e.message):alert(e.message)}))},openCollaboratorsDialog:function(e,t=!1){t||PMW.setLoading(i18next.t("pmwjs_loading")),PMW.util.require(void 0===PMW.openInviteDialog,"inviteCollaborators",!0,PMW.doOpenInviteCollaboratorsDialog.bind(PMW,e))},doOpenInviteCollaboratorsDialog:function(e){PMW.openInviteDialog(e)},initAccessibilityMenu:function(){var e=$(this);e.html(e.attr("data-opening-text")),void 0===PMW.openAccessibilityMenu?PMW.getJsAssetGroup("accessibilityWidget",function(){PMW.openAccessibilityMenu()}.bind(this)):PMW.openAccessibilityMenu()},bindAccessibilityEvents:function(){var e=document.getElementsByClassName("js-open-userway-accessibility-menu");if(e.length>0)for(let t=0;t<e.length;t++)e[t].addEventListener("click",PMW.initAccessibilityMenu)},CURRENCY_CODE_USD:"USD",PREMIUM_PLUS_ONLY_FEATURE_NAME_MORE_BRANDS:"more-brands",PREMIUM_PLUS_ONLY_FEATURE_NAME_EDITOR_BRANDS:"editorbrands",PREMIUM_PLUS_ONLY_FEATURE_ADD_SOCIAL_MEDIA_ACCOUNTS:"socialaccountlimitpremium",PREMIUM_PLUS_ONLY_FEATURE_IS_CUSTOM_DOMAIN_ENABLED:"customdomain",PREMIUM_ONLY_FEATURE_NAME_TEAMS:"teams",PREMIUM_PLUS_ONLY_FEATURE_NAME_CONTENT_PLANNER:"contentplanner",PREMIUM_ONLY_FEATURE_NAME_BG_REMOVALS:"removebackground",PREMIUM_ONLY_FEATURE_NAME_AI_SUBTITLES:"aisubtitles",PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_IMAGE:"texttoimage",PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_SPEECH:"texttospeech",PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_SPEECH_AI_WRITER:"texttospeechaiwriter",PREMIUM_ONLY_FEATURE_NAME_VIDEO_BG_REMOVALS:"removevideobackground",PREMIUM_ONLY_FEATURE_NAME_SPELL_CHECK:"spellcheck",PREMIUM_ONLY_FEATURE_NAME_SCHEDULE_POST:"scheduling",PREMIUM_ONLY_FEATURE_NAME_EMAIL_SENDS:"emailsends",PREMIUM_ONLY_FEATURE_NAME_CUSTOM_FONT:"customfonts",PREMIUM_ONLY_FEATURE_ADD_SOCIAL_MEDIA_ACCOUNTS:"socialmediaaccounts",PREMIUM_ONLY_FEATURE_NAME_EMAIL_CAMPAIGNS_PERFORMANCE:"emailperformance",PREMIUM_ONLY_FEATURE_NAME_EMAIL_CAMPAIGNS_AUDIENCE:"emailaudience",PREMIUM_ONLY_FEATURE_NAME_PUBLISH_EMAIL_CAMPAIGN:"emailcampaigns",PREMIUM_ONLY_FEATURE_NAME_AUTO_CAPTION:"aicaptions",PREMIUM_ONLY_FEATURE_SOCIAL_POST_METRICS:"socialpostmetrics",PREMIUM_ONLY_FEATURE_NAME_EMAIL_TEMPLATE_DOWNLOAD:"emailtemplatedownload",PREMIUM_ONLY_FEATURE_NAME_CREDITS:"credits",PREMIUM_ONLY_SOCIAL_MEDIA_MULTI_POSTING:"multiposting",PREMIUM_ONLY_FEATURE_NAME_POST_DOWNLOAD_SOCIAL_MEDIA_SIZES:"postdownloadSMsizes",PREMIUM_ONLY_FEATURE_NAME_AI_REWRITE_EMAIL_CAMPAIGN_TEXT_COMPONENTS_CONTENT:"airewriteemailcampaigntextcomponentscontent",PREMIUM_ONLY_FEATURE_NAME_BRANDS:"brands",PREMIUM_ONLY_FEATURE_NAME_MORE_EVENTS:"moreevents",PREMIUM_PLUS_ONLY_FEATURE_NAME_MORE_EVENTS:"moreeventspremiumplus",PREMIUM_PLUS_ONLY_FEATURE_EVENTS_REMOVE_WATERMARK:"eventsremovewatermark",PREMIUM_ONLY_FEATURE_NAME_EVENTS_AI_WRITER:"eventsaiwriter",PREMIUM_ONLY_FEATURE_NAME_EVENTS_GUESTS_INFORMATION:"eventsguestinformation",PREMIUM_PLUS_ONLY_FEATURE_NAME_RECURRING_EVENTS:"recurringevents",PREMIUM_ONLY_FEATURE_NAME_EVENTS_LIMITED_REGISTRATONS:"eventslimitedregistrations",PREMIUM_ONLY_FEATURE_NAME_EVENTS_VIEW_ANALYTICS:"eventsviewanalytics",PREMIUM_ONLY_FEATURE_NAME_EVENTS_REMINDERS:"eventsreminders",FEATURE_NAME_POST_FREE_DOWNLOAD:"postdownload",PREMIUM_ONLY_FEATURE_NAME_EVENT_ONE_CLICK_PROMOTION:"eventoneclickpromo",PREMIUM_ONLY_UNLIMITED_PAGES_FEATURE:"unlimitedpages",getGA4TrackingPremiumEventDimension:function(e){return{[this.PREMIUM_ONLY_FEATURE_NAME_BG_REMOVALS]:"backgroundremoval_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_VIDEO_BG_REMOVALS]:"videobackgroundremoval_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_TEAMS]:"teams_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_CUSTOM_FONT]:"customfonts_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EMAIL_SENDS]:"emailsends_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_SCHEDULE_POST]:"schedulingposts_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_NAME_CONTENT_PLANNER]:"contentplanner_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_SPELL_CHECK]:"spellcheck_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_CREDITS]:"credits_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_PUBLISH_EMAIL_CAMPAIGN]:"emailcampaigns_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_BRANDS]:"brands_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_NAME_MORE_BRANDS]:"more-brand-kits-dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_IS_CUSTOM_DOMAIN_ENABLED]:"customdomains_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EMAIL_CAMPAIGNS_PERFORMANCE]:"emailcampaignsperformance_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EMAIL_CAMPAIGNS_AUDIENCE]:"emailcampaignsaudience_dialog",[this.PREMIUM_ONLY_FEATURE_ADD_SOCIAL_MEDIA_ACCOUNTS]:"socialmediaaccountspayg_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_ADD_SOCIAL_MEDIA_ACCOUNTS]:"socialmediaaccountspremium_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EMAIL_TEMPLATE_DOWNLOAD]:"emailtemplatedownload_dialog",[this.PREMIUM_ONLY_FEATURE_SOCIAL_POST_METRICS]:"socialpostmetrics_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_AUTO_CAPTION]:"aicaptions_dialog",[this.PREMIUM_ONLY_SOCIAL_MEDIA_MULTI_POSTING]:"multiposting_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_POST_DOWNLOAD_SOCIAL_MEDIA_SIZES]:"socialmediasizedownload_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_AI_REWRITE_EMAIL_CAMPAIGN_TEXT_COMPONENTS_CONTENT]:"airewriteemailcampaigntextcomponentscontent_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_MORE_EVENTS]:"moreevents_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_NAME_MORE_EVENTS]:"moreeventspremiumplus_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_EVENTS_REMOVE_WATERMARK]:"eventsremovewatermark_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENTS_AI_WRITER]:"eventsaiwriter_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENTS_GUESTS_INFORMATION]:"eventsguestinformation_dialog",[this.PREMIUM_PLUS_ONLY_FEATURE_NAME_RECURRING_EVENTS]:"recurringevents_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENTS_LIMITED_REGISTRATONS]:"eventslimitedregistrations_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENTS_VIEW_ANALYTICS]:"eventsviewanalytics_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENTS_REMINDERS]:"eventsreminders_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_EVENT_ONE_CLICK_PROMOTION]:"eventoneclickpromotion_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_AI_SUBTITLES]:"aisubtitles_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_IMAGE]:"texttoimage_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_SPEECH]:"texttospeech_dialog",[this.PREMIUM_ONLY_FEATURE_NAME_TEXT_TO_SPEECH_AI_WRITER]:"texttospeechaiwriter_dialog",[this.FEATURE_NAME_POST_FREE_DOWNLOAD]:"postdownload_dialog"}[e]},INTRO_FEATURE_NAME_CONTENT_PLANNER:"intro-contentplanner",PREMIUM_UPSELL_DIALOG_SHOWN_COOKIE:"premiumUpsellDialogShown",PREMIUM_UPSELL_DIALOG_SHOWN_COOKIE_EXPIRATION_MINUTES:30,showPremiumOnlyFeatureDialog:async function(e,t,n=!1){"string"!=typeof e&&(e="");let o=!1;PMW.isUserLoggedIn()&&await PMW.readLocal("premium/isUserEligibleForTrial").then((function(e){o=parseInt(e.isUserEligibleForTrial)})),PMW.openDialogV2("premium-only-dialog","-standard",PMW.util.site_url("premium/premiumOnlyDialog"),{featureName:e,isEligibleForFreeTrial:PMW.premiumDialogs.isEligibleForFreeTrial(!1)&&o,shouldOpenInNewTab:n},(function(){PMW.initPremiumOnlyDialog(),"function"==typeof t&&t()}),!1,".premium-dialog-custom-close, .premium-marketing-btn, .premium-custom-cross-btn",!0)},initPremiumOnlyDialog:function(){const e=$(".js-premium-marketing-modal").attr("data-feature-name");if(e){$(".js-premium-marketing-btn").one("click",(function(){const e=$(this);if(e.length>0&&e.parents(".js-premium-marketing-modal")){void 0!==typeof PMW.gtm&&e.is("[ga4-click-name]")&&PMW.gtm.trackGA4CustomClick(e.attr("ga4-click-name"));const t=e.parents(".js-premium-marketing-modal").attr("data-feature-name");t&&window.dispatchEvent(new CustomEvent(PMW.getPremiumUpsellClickEvent(t),{}))}})),$(".js-premium-marketing-secondary-btn").one("click",(function(e){e.preventDefault();const t=$(e.currentTarget);void 0!==typeof PMW.gtm&&t.is("[ga4-click-name]")&&PMW.gtm.trackGA4CustomClick(t.attr("ga4-click-name")),t.attr("href")&&(window.location.href=t.attr("href"))})),PMW.isIOSApp()?$(".js-premium-trial-btn").addClass("_hidden"):$(".js-premium-trial-btn").one("click",(function(e){PMW.premiumDialogs.openTrialDialog(!1)})),$(".close-modal-v2").one("click",(function(){PMW.closeModalV2("premium-only-dialog")})),PMW.setCookieForUpsellDialogShown(e);const t=document.querySelector(".js-ad-graphic");if(!t)return;t.getAttribute("poster")?t.classList.add("-loaded"):t.addEventListener("loadeddata",(()=>{t.classList.add("-loaded")}))}},setCookieForUpsellDialogShown:function(e){const t=this.getGA4TrackingPremiumEventDimension(e);if(!t)return;const n=this.PREMIUM_UPSELL_DIALOG_SHOWN_COOKIE_EXPIRATION_MINUTES/1440;PMW.util.setCookie(this.PREMIUM_UPSELL_DIALOG_SHOWN_COOKIE,t,n)},getPremiumUpsellClickEvent:function(e){return"premiumui:"+e},getEventDialogCloseEvent:function(){return"EVENT_DIALOG_CLOSE"},showPostFreeDownloadDialog:function(e){PMW.isStudent()||(PMW.setCookieForUpsellDialogShown(this.FEATURE_NAME_POST_FREE_DOWNLOAD),PMW.openDialogV2("premium-post-free-download-dialog","-standard",PMW.util.site_url("premium/premiumPostFreeDownloadDialog"),{posterHashedId:e},null,!0,"",!0))},showEventsPostFreeDownloadDialog:function(){PMW.isStudent()||(PMW.setCookieForUpsellDialogShown(this.FEATURE_NAME_POST_FREE_DOWNLOAD),PMW.openDialogV2("premium-only-dialog","-standard js-events-post-download-dalog",PMW.util.site_url("premium/eventsUpsellPostDownloadDialog"),{},(function(){PMW.initPremiumOnlyDialog(),$(".js-events-post-download-dalog").find(".js-create-event-cta").on(PMW.click,null,(function(){$(this).addClass("-loading"),PMW.gtm.trackGA4CustomEvent(PMW.gtm.EVENTS_CREATE_CLICK_GA_EVENT),PMW.gtm.trackGA4CustomEvent(PMW.gtm.EVENTS_POST_DOWNLOAD_DIALOG_GA_EVENT)}))}),!1,"",!0))},showPremiumIntroFeatureDialog:function(e){"string"!=typeof e&&(e=""),PMW.openDialogV2("premium-intro-dialog","",PMW.util.site_url("premium/premiumIntroDialog"),{featureName:e},null,!0,".premium-dialog-custom-close, .premium-marketing-btn, .premium-custom-cross-btn",!0)},showPremiumWalkthroughDialog:function(e=""){let t="premium-walkthrough-dialog";PMW.openDialogV2(t,"",PMW.util.site_url("premium/premiumWalkthroughDialog"),{featureName:e},(function(){PMW.util.setCookie(postermywall.Core.COOKIE_BRANDS_WALKTHROUGH_DIALOG,"1",365),PMW.onClick($(`#${t}`),".js-premium-cta-container",(function(){let e=parseInt($(this).find(".js-premium-next")[0].value)+1;e<$(this).attr("data-value")?($(".js-premium-info-container").addClass("_hidden").removeClass("fadeIn"),$(".js-premium-graphic-container").addClass("_hidden").removeClass("fadeIn"),$(".js-premium-container-"+e).removeClass("_hidden").addClass("fadeIn")):PMW.closeModalV2.call(this,t)})),PMW.onClick($(`#${t}`),".js-back-button",(function(){let e=parseInt($(this).find(".js-premium-back")[0].value)-1;$(".js-premium-info-container").addClass("_hidden").removeClass("fadeIn"),$(".js-premium-graphic-container").addClass("_hidden").removeClass("fadeIn"),$(".js-premium-container-"+e).removeClass("_hidden").addClass("fadeIn")}))}),!1,".premium-custom-cross-btn",!1)},initStickyNav:function(){var e=document.querySelector("header");"undefined"!=typeof IntersectionObserver&&new IntersectionObserver((function(e,t){e.forEach((function(e){var t=document.getElementById("nav");e.isIntersecting?t.classList.remove("-scrolled","-sticky","navFadeIn"):t.classList.add("navFadeIn","-sticky","-scrolled")}))}),{rootMargin:"60px 0px 0px 0px",threshold:1}).observe(e)},initStickyDiv:function(e,t,n={}){let o=n.topDistance,i=n.finishDiv,a=null;function s(){let n=e.height()+o,s=i&&i[0].getBoundingClientRect().top<=n;a?e.toggleClass(t,Math.floor(a[0].getBoundingClientRect().y)<=o&&!s):e.toggleClass(t,Math.floor(e[0].getBoundingClientRect().y)<=o&&!s)}"number"!=typeof o&&(o=0),"object"!=typeof i&&(i=null),PMW.isIOS()&&(a=$('<div id="observer-navbar"></div>'),a.insertBefore(e)),s(),window.addEventListener("scroll",PMW.debounce(s,10),{passive:!0})},addVersion:function(e){const t=new URL(e);return t.searchParams.set("_",PMW.VERSION),t.toString()},getJsAssetGroup:function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i=this.addVersion(PMW.util.site_url("asset/getJsAssetGroup?assetgroup="+e));return $.ajax({dataType:"script",cache:!0,url:i}).done((function(){"function"==typeof t&&t()})).fail((function(e){console.log(e),"function"==typeof n?n():alert(i18next.t("pmwjs_problem_check_internet_connection_reload"))})).always((function(){"function"==typeof o&&o()}))},getJsAndCssAssetGroup:function(e,t){$.when($.ajax({dataType:"script",cache:!0,url:this.addVersion(PMW.util.site_url("asset/getJsAssetGroup?assetgroup="+e))}),$.ajax({cache:!0,url:this.addVersion(PMW.util.site_url("asset/getCssAssetGroup?assetgroup="+e))})).then((function(e,n){$("<style>"+n+"</style>").appendTo("head"),$.isFunction(t)&&t()})).fail((function(){alert(i18next.t("pmwjs_problem_check_internet_connection_reload"))}))},initButtonsOnDialog:function(e,t){$.each(e,(function(e,n){t.find(".footer .primary-actions").append(PMW.createButtonElement(e,n))}))},createButtonElement:function(e,t){var n=$('<div class="btn primary medium"><button>'+e+"</button></div>");if("function"==typeof t)PMW.onClick(n,null,t);else if("object"==typeof t&&("function"==typeof t.ch&&PMW.onClick(n,null,t.ch),"string"==typeof t.classes&&n.addClass(t.classes),"string"==typeof t.size&&(n.removeClass("medium"),n.addClass(t.size)),"string"==typeof t.type))switch(t.type){case"secondary":case"link":n.removeClass("btn-primary primary"),n.addClass("secondary btn-secondary");break;case"danger":n.removeClass("btn-primary primary"),n.addClass("danger btn-danger")}return n},addBackButtonToModal:function(e,t){PMW.removeBackButtonToModal(e);var n='<div class="modal-header-action back '+t.classes+'" title="'+i18next.t("pmwjs_back")+'"><i class="icon icon-back action-icon"></i></div>';e.find(".header .title").addClass("-has-back").prepend(n),PMW.onClick(e.find(".header .title .back"),null,t.callback)},removeBackButtonToModal:function(e){e.find(".modal-header-action.back").remove(),e.find(".header .title").removeClass("-has-back")},addTopActionsToModal:function(e,t){if(e.length>0){if(0===t.find(".actions-responsive").length){var n=$('<div class="modal-header-actions modal-actions actions-responsive"><a href="javascript:void(0)" class="modal-header-action "><i class="icon icon-menu-dots action-icon" title="Options"></i></a><div class="responsive-settings-container"></div></div>');t.find(".header .top-actions-bar").append(n),PMW.onClick($(".actions-responsive"),null,(function(){$(this).toggleClass("-open")}))}0===t.find(".top-actions-bar > .modal-header-actions").length&&t.find(".header .top-actions-bar").append($('<div class="modal-header-actions"></div>')),$.each(e,(function(e,n){var o,i=n.icon?"-has-icon":"";o=n.icon?'<i class="icon '+n.icon+' action-icon" title="'+n.label+'"></i><span class="action-label">'+n.label+"</span>":'<span class="action-label">'+n.label+"</span>";var a=$('<a href="javascript:void(0)" class="modal-header-action '+i+'">'+o+"</a>"),s=a.clone();t.find(".header .modal-header-actions:not(.actions-responsive)").addClass("-multiple-actions").append(a),t.find(".responsive-settings-container").append(s),a.addClass(n.classes),s.addClass(n.classes),PMW.onClick(a,null,n.callback),PMW.onClick(s,null,n.callback)})),this.monitorAndUpdateModalTopActionChange(t)}},monitorAndUpdateModalTopActionChange:function(e){var t=e.find(".top-actions-bar .modal-header-actions"),n=t.get(0),o=function(){$(this).find(".top-actions-bar .modal-header-actions:not(.actions-responsive) .modal-header-action:visible").length>1?t.addClass("-multiple-actions"):t.removeClass("-multiple-actions")}.bind(e);if(n){var i=PMW.attachAndGetMutationObserverToElement(n,o,{childList:!0,attributes:!0});e.data("topActionObserver",i)}},openModalDialog:function(e,t,n,i,a,s,r){void 0===i&&(i=!1),void 0===r&&(r=[]);var l,d=$("html"),c=$("body");if(c.addClass("-open-modal"),(void 0===s||d.hasClass("oldie")||d.hasClass("ie9"))&&(s=!1),void 0===a&&(a=""),void 0===PMW.modals[e]){if(PMW.modals[e]=i?"open-destroy":"open",c.append($('<div class="modal modal-open '+(s?"vertical-align-wrap":"")+'" id="'+e+'">'+(s?'<div class="vertical-align">':"")+'<div class="modal-content"><div class="header"><div class="title"><h2>'+t+'</h2></div><div class="top-actions-bar"><div class="modal-header-actions"><a href="javascript:void(0)" class="modal-header-action close modal-btn-close"><i class="icon icon-close" title="'+i18next.t("pmwjs_close")+'"></i></a></div></div></div><div class="content"><progress class="icon-circular-loader js-modal-loader modal-loader -medium _unmargin"></progress></div></div>'+(s?"</div>":"")+"</div>")),l=$("#"+e).addClass(a),this.animateOpenModalDialogContent(l,o),this.addTopActionsToModal(r,l),this.bindModalCloseEvents(e),!$.isEmptyObject(n)){var u=$('<div class="footer vertical-align-wrap"><div class="vertical-align"><div class="primary-actions"></div></div></div>');l.find(".modal-content").append(u),this.initButtonsOnDialog(n,l)}l.find(".close").on("click",this.closeModalDialog.bind(this,e))}else"closed"===PMW.modals[e]?((l=$("#"+e)).addClass("modal-open"),this.animateOpenModalDialogContent(l,o)):"closing"===PMW.modals[e]?(l=$("#"+e),PMW.queuedOpenModal=PMW.openModalDialog.bind(this,e,t,n,i)):l=$("#"+e);return PMW.bringToFrontOfModals(l),this.monitorAndUpdateModalTopActionChange(l),l},getModalAnimationClass:function(e,t){return PMW.doesModalNeedAnimationReversal(e)?t===o?"animate-modal-dialog-open -reverse":"animate-modal-dialog-close -reverse":t===o?"animate-modal-dialog-open":"animate-modal-dialog-close"},doesModalNeedAnimationReversal:function(e){return e.hasClass("-full-height")},animateOpenModalDialogContent:function(e,t){let n=this.getModalAnimationClass(e,t),o=e.find(".modal-content");o.addClass(n).one(PMW.util.animationEndEvents,(function(){o.removeClass(n)}))},bindModalCloseEvents:function(e,t){function n(t,n,o){if($("#"+e).hasClass("modal-open")){var i="#"+t+" .modal-content",a=$(n.target),s=document.getElementById(e);a.length>0&&0===a.parents(i).length&&(a.parents("#"+e).length>0||n.target===s)&&o()}}void 0===t&&(t=null),function(){var n=$(document);n.data(PMW.getModalInitIdentifier(e))||n.on("keydown.modal",function(n,o){$("#"+e+":not(.no-close)").hasClass("modal-open")&&27===o.which&&("function"==typeof t?t():PMW.closeModalDialog(n))}.bind(this,e)),n.data(PMW.getModalInitIdentifier(e),!0)}.call(this);var o=$("#"+e+":not(.close-only-by-esc):not(.no-close)"),i=!1;o.on("mousedown touchstart",function(e,t){n.call(this,e,t,(function(){i=!0}))}.bind(this,e)),o.on("mouseup touchend",function(e,o){n.call(this,e,o,function(e){i&&("function"==typeof t?t():PMW.closeModalDialog(e)),i=!1}.bind(this,e))}.bind(this,e))},getModalInitIdentifier:function(e){return"modal-id-"+e},addModalWarning:function(e,t){e.find(".header").after('<div class="modal-message-strip -warning"><span><i class="icon icon-info"></i>'+t+"</span></div>")},addModalError:function(e,t){e.find(".header").after('<div class="modal-message-strip -error"><span><i class="icon icon-exclamation-triangle"></i>'+t+"</span></div>")},removeModalMessage:function(e){e.find(".modal-message-strip").slideUp(300).remove()},addTabsToDialog:function(e,t){var n=$('<div class="modal-header-tabs"></div>'),o=e.find(".header");o.addClass("has-tabs"),$.each(t,(function(e,t){var o=$('<h5 class="modal-header-tab '+t.classes+'">'+t.label+"</h5>");n.append(o),PMW.onClick(o,null,(function(){$(this).addClass("selected").siblings(".modal-header-tab").removeClass("selected"),t.callback.call(this)}))})),o.prepend(n)},destroyModalDialog:function(e){return PMW.modals[e]="open-destroy",PMW.closeModalDialog(e)},disconnectTopActionObserver:function(e){let t=e.data("topActionObserver");t&&"object"==typeof t&&t.disconnect()},closeModalDialog:function(e){var t=jQuery.Deferred(),n=$("#"+e),o=n.find(".modal-content"),i=!1;if("closing"===PMW.modals[e])return t.resolve(),t.promise();"open-destroy"===PMW.modals[e]&&(i=!0),PMW.modals[e]="closing";let a=$(".tooltip");a.length>0?a.remove():$.noop();let s=PMW.getModalAnimationClass(n,"close");return n.addClass("modal-closing"),o.addClass(s).one(PMW.util.animationEndEvents,(function(){n.removeClass("modal-open"),o.removeClass(s),i?(n.remove(),delete PMW.modals[e],t.resolve()):(PMW.modals[e]="closed",t.resolve()),$.isFunction(PMW.queuedOpenModal)&&(PMW.queuedOpenModal(),PMW.queuedOpenModal=null),0===$(".modal.modal-open").length&&$("body").removeClass("-open-modal")})),n.trigger("modal:close"),window.dispatchEvent(new CustomEvent(PMW.getEventDialogCloseEvent(),{})),PMW.disconnectTopActionObserver(n),t.promise()},openDialogV2:function(e,t,n,o,i,a,s,r,l){var d,c=$("body");null==i&&(i=function(){}),null==l&&(l=function(){}),void 0===a&&(a=!0),void 0===s&&(s=null),d='<div id="'+e+'" class="modal-v2 -waiting '+t+' "><div class="content"></div></div>',c.addClass("-open-modal").append(d);var u=$("#"+e);PMW.bringToFrontOfModals(u),PMW.load(u.find(".content"),n,o,function(e,t,n){u.addClass("-open");var o=$("#"+e).find(".content");o.parents(".modal-v2").removeClass("-waiting");var a=o.find(">:first-child"),s=[];a.addClass("-open"),t&&(a.append('<i tabindex="0" class="hidden-phone hidden-tablet close-modal-v2 pmw-icon size-icon-24 -dark  icon-close -square"></i><i tabindex="0" class="hidden-desktop close-modal-v2 pmw-icon size-icon-20 -dark  icon-close -square"></i>'),s.push(o.find(".close-modal-v2"))),"string"==typeof n&&s.push($(n)),$(s).each(function(e,t,n){PMW.onClick(n,null,PMW.closeModalV2.bind(this,e,l))}.bind(this,e)),$(document).on("keydown.modalv2",function(e,t){27===t.which&&PMW.closeModalV2.call(this,e,l)}.bind(this,e)).on("click.modalv2",function(e,t){var n="#"+e+" .content:first-child";0===$(t.target).parents(n).length&&r&&PMW.closeModalV2.call(this,e,l)}.bind(this,e)),i()}.bind(this,e,a,s))},closeModalV2:function(e,t){null==t&&(t=function(){});var n=$("#"+e),o=n.find(">.content").find(">:first-child");0===$(".modal.modal-open").length&&$("body").removeClass("-open-modal"),o.on(PMW.util.animationEndEvents,(function(){n.addClass("-close"),n.remove(),t()})),n.addClass("-closing"),o.addClass("-close"),$(document).off("keydown.modalv2").off("click.modalv2")},initDropDown:function(e,t){const n=$("#"+e),o=n.parent(".pmw-dropdown"),i=n.siblings(".dropdown-label"),a=i.find(".dropdown-icon");i.attr("data-value")&&n.attr("data-value",i.attr("data-value")),$(document).mouseup((function(e){$(e.target).parents(".pmw-dropdown").length>0||n.find(".dropdown-label").is(e.target)||!n.prop("checked")||n.prop("checked",!1).change()})),n.on("value",(function(e,t){var o=n.parent(".pmw-dropdown"),i=o.find('.dropdown-content-item[data-value="'+t+'"]');i.length>0&&(a.appendTo(o.find(".dropdown-label").html(i.html())),i.addClass("dropdown-selected").siblings().removeClass("dropdown-selected"),n.attr("data-value",t),n.trigger("update"))})),PMW.onClick(i,null,(function(){n.prop("checked",!n.prop("checked")).change()})),PMW.onClick(n.parent(".pmw-dropdown"),".dropdown-content-item",(function(){let e=$(this);if(!e.hasClass("-cta")&&!e.hasClass("js-external-option")){e.addClass("dropdown-selected").siblings().removeClass("dropdown-selected");let t=o.find(".dropdown-label:visible");if(t.hasClass("-button")?t.find(".btn-text").html(e.html()):a.appendTo(t.html(e.html())),n.attr("data-value",$(this).attr("data-value")),n.prop("checked",!1).change(),n.trigger("update"),void 0!==e.attr("data-href")&&""!==e.attr("data-href")){let t=e.attr("data-href");"#"===t.substring(0,1)?window.location.hash=t:window.location.href=t}}"function"==typeof t&&t(e)})),n.on("change",(function(){a.toggleClass("-inverted"),o.toggleClass("-open")})),o.find('.dropdown-content-item[data-value="'+o.find(".dropdown-label").attr("data-value")+'"]').addClass("dropdown-selected")},isMobileApp:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("convertify")},isMobileScreenWidth:function(){return $(window).width()<=PMW.MOBILE_SCREEN_BREAKPOINT},isIpadScreenWidth:function(){let e=$(window).width();return e>PMW.MOBILE_SCREEN_BREAKPOINT&&e<=PMW.TABLET_SCREEN_BREAKPOINT},updateModalDialogTitle:function(e,t,n=!1){let o=e.find(".title h2");o.text(t),n&&o.addClass("-no-text-transform")},initAndLazyloadGraphics:function(){PMW.util.require(void 0===PMW.initLazyLoadGraphics,"lazyloadGraphics",!1,(function(){PMW.initLazyLoadGraphics()}))},appendFooterToModalDialog:function(e){if(0===e.find(".footer").length){var t=e.find(".modal-content"),n=$('<div class="footer vertical-align-wrap"><div class="vertical-align"><div class="primary-actions"></div></div></div>'),o=t.find(".content");t.append(n),e.hasClass("-auto")||o.innerHeight(t.outerHeight()-e.find(".header").outerHeight(!0)-n.outerHeight(!0)-parseInt(o.css("padding-top").replace("px",""),10)-parseInt(o.css("padding-bottom").replace("px",""),10))}},createModalDialogButtons:function(e,t,n){PMW.appendFooterToModalDialog(e),void 0!==n&&!0!==n||e.find(".primary-actions .btn").remove(),PMW.initButtonsOnDialog(t,e)},freeEditDialog:function(e,t){const n=e.idOrder,o=e.checkout;let i={};i[i18next.t("pmwjs_recreate_for_free")]=function(){setTimeout((function(){window.location.href=PMW.util.site_url("cart/downloadregen/"+n)}),250)},i[i18next.t("pmwjs_place_new_order")]=function(){e.url?PMW.postCheckoutProcessing(e):PMW.enableCheckoutV2?PMW.stripeCheckout.showStripeCheckoutForDownloadPurchase(parseInt(o.priceId),parseInt(o.id),o.posterHash,parseInt(o.idProduct)):PMW.checkout.showCheckoutDialog(PMW.checkout.MODE_DOWNLOAD,o,t),PMW.closeModalDialog("free-edit")};const a=PMW.openModalDialog("free-edit",i18next.t("pmwjs_free_edit"),i,!1,PMW.isPosterMaker()?"-flex":"");0===a.find(".content p").length&&a.find(".content").html("<p>"+i18next.t("pmwjs_recently_purchased_allow_three_edits")+"</p>")},postCheckoutProcessing:function(e,t,n){t=void 0===t?$(".js-form-buy-download"):t;var o=i18next.t("pmwjs_error_processing_request_try_again");PMW&&$.isFunction(PMW.setLoading)&&(PMW.setLoading(null),t&&t.find('[type="submit"]').prop("disabled","").parent().removeClass("disabled")),null==e?alert(o):e.message?e.premium>0?PMW.premiumContentBlockMessage():t&&t.find(".promo-error").removeClass("_hidden").html(e.message):e.url?window.location.href=e.url:e.checkout?"function"==typeof n?(e.checkout.is=1,e.checkout.cb=n,PMW.enableCheckoutV2?PMW.stripeCheckout.showStripeCheckoutForDownloadPurchase(e.checkout.priceId,e.checkout.id,e.checkout.posterHash,e.checkout.idProduct,!0,n):PMW.checkout.showCheckoutDialog(PMW.checkout.MODE_DOWNLOAD,e.checkout,null)):PMW.enableCheckoutV2?PMW.stripeCheckout.showStripeCheckoutForDownloadPurchase(e.checkout.priceId,e.checkout.id,e.checkout.posterHash,e.checkout.idProduct):PMW.checkout.showCheckoutDialog(PMW.checkout.MODE_DOWNLOAD,e.checkout):alert(o)},loadAddThisToolbox:function(e,t){t=t||null;var n=e.attr("data-url");null!=n&&n.length>0&&PMW.load(e,PMW.util.site_url("addthis/toolbox"),{url:n,title:e.attr("data-title"),count:e.attr("data-count"),compact:e.attr("data-compact"),track:e.attr("data-track"),style:e.attr("data-style"),loadScript:"undefined"==typeof addthis},(function(){window.addthis_config={data_track_addressbar:!0,lang:PMW.util.getLanguage()},"undefined"==typeof addthis?$.getScript("https://s7.addthis.com/js/300/addthis_widget.js#pubid=jafferhaider&async=1",function(){"undefined"!=typeof addthis&&PMW.initAddThis(e.attr("data-gaCategory"),e.attr("data-gaAction"),t)}.bind(this)):PMW.initAddThis(e.attr("data-gaCategory"),e.attr("data-gaAction"),t)}))},initAddThis:function(e){PMW.addThisInit||(PMW.addThisInit=!0,addthis.init()),addthis.toolbox(".addthis_toolbox_parent"),$.isFunction(e)&&e()},debounce:function(t,n,o){var i,a,s=function(e,n){i=null,n&&(a=t.apply(e,n))},r=e((function(e){var r=o&&!i;return i&&clearTimeout(i),r?(i=setTimeout(s,n),a=t.apply(this,e)):o||(i=PMW.delay(s,n,this,e)),a}));return r.clear=function(){clearTimeout(i),i=null},r},delay:e((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),initializeCache:function(e,t){PMW.cacheNamespace=e;var n=this.getCacheItem("version");(null===n||null!==n&&n.number!==t)&&(this.clearNamespaceFromCache(PMW.cacheNamespace),this.setCacheItem("version",{number:t}))},loadIntroSlides:function(e,t=null){PMW.util.require(void 0===PMW.openIntroSlides,"introSlides",!0,(function(){PMW.openIntroSlides(e,t)}))},setCacheItem:function(e,t,n){var o={d:t,e:("number"==typeof n?n:PMW.DEFAULT_CACHE_EXPIRY)+(new Date).getTime()},i=JSON.stringify(o);if(e=PMW.cacheNamespace+"."+e,window.localStorage)try{window.localStorage.setItem(e,i)}catch(t){PMW.fallbackCache_[e]=i}else PMW.fallbackCache_[e]=i},getVersionedCacheItem:function(e,t,n){let o=this.getCacheItem(t);return o?o<n?null:this.getCacheItem(e):(this.setCacheItem(t,n),null)},deleteCacheItem:function(e){e=PMW.cacheNamespace+"."+e,window.localStorage&&(window.localStorage.removeItem(e),void 0!==PMW.fallbackCache_[e]&&delete PMW.fallbackCache_[e])},copyToClipboard:async function(e){navigator.clipboard?await navigator.clipboard.writeText(e):PMW.copyTextToCustomClipboard(e)},readFromClipboard:async function(){return navigator.clipboard?navigator.clipboard.readText():PMW.readTextFromCustomClipboard()},copyTextToCustomClipboard:function(e){window.sessionStorage.setItem(i,e)},readTextFromCustomClipboard:function(){return window.sessionStorage.getItem(i)},getCacheItem:function(e){var t;if(e=PMW.cacheNamespace+"."+e,window.localStorage?null===(t=window.localStorage.getItem(e))&&"string"==typeof PMW.fallbackCache_[e]&&(t=PMW.fallbackCache_[e]):"string"==typeof PMW.fallbackCache_[e]&&(t=PMW.fallbackCache_[e]),null!==t&&t.length>0)try{if((t=JSON.parse(t)).e&&t.e>(new Date).getTime())return t.d;window.localStorage.removeItem(e)}catch(n){return PMW.log("getCacheItem encountered parse error for key: "+e+" string: "+t),null}return null},clearNamespaceFromCache:function(e){var t=(e=void 0===e?PMW.cacheNamespace:e).length;window.localStorage&&Object.keys(window.localStorage).forEach((function(n){n.substring(0,t)==e&&window.localStorage.removeItem(n)})),Object.keys(PMW.fallbackCache_).forEach((function(n){n.substring(0,t)==e&&PMW.fallbackCache_.removeItem(n)}))},getRequest:function(e,t,n,o,i){return PMW.getRequestAtUrl(PMW.util.site_url(e),t,n,o,i)},getRequestAtUrl:function(e,t,n,o,i=void 0){const s=void 0!==n;if(s){const e=PMW.getCacheItem(n);if(null!==e){const t=$.Deferred(),n=t.promise();return t.resolveWith(this,[e]),n}}let r={type:"GET",url:e,data:t,success:function(e){s&&PMW.setCacheItem(n,e,i)}};return void 0===o||window.PMW.isStorybook()||(r.cache=!0,r.headers={"Cache-Control":"max-age="+o}),a(r),PMW.addAjaxParamsForSubdomainToSubfolderRequests(r),jQuery.ajax(r)},initI18next:function(e,t){var n="postermywalljs",o={useLocalStorage:!1,fallbackLng:"en",lng:e,ns:[n],defaultNS:n,resources:{},interpolation:{escapeValue:!1}};this.getRequest("asset/getLanguage/"+encodeURIComponent(e)+"/"+encodeURIComponent(n),null,"lang_"+e).done(function(e){!1===e?PMW.showFatalError("core.js::initI18next data is false "+window.location.href):(Object.keys(e).forEach((function(t){o.resources[t]=[n],o.resources[t][n]=e[t]})),i18next.init(o,(function(e,n){e?PMW.showFatalError("core.js::initI18next "+e+" ".window.location.href):"function"==typeof t&&t()})))}.bind(this)).fail((function(e,t){PMW.showFatalError("core.js::initI18next getLanguage request failed. "+t+" "+e.status+" "+window.location.href)}))},showFatalError:function(e){PMW.log(e),window.confirm("Sorry, there was a problem. Press OK to reload the page.")&&window.location.reload(!0)},copyTextToClipboard:function(e,t,n="up"){let o=document.createElement("textarea"),i="up"===n?"fadeInUp":"fadeInDown";o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),null!=t&&(t.addClass(i+" animated fast"),setTimeout((function(){t.removeClass(i+" animated fast")}),2e3))},attachAndGetMutationObserverToElement:function(e,t,n){let o=new MutationObserver(t);return o.observe(e,n),o},bringToFrontOfModals:function(e){var t=$(".modal, .modal-v2, .ReactModal__Overlay").map((function(){return $(this).css("z-index")}));if(t.length>0){var n=(t=t.sort())[t.length-1];n>=e.css("z-index")&&e.css("z-index",parseInt(n,10)+1)}},showPendingMarketingPopup:function(){void 0!==PMW.marketing&&PMW.marketing.showPendingMarketingPopups()},getDefaultSmallProfilePictureUrl:function(){return PMW.util.asset_url("images/default_profile_picture_small.png")},isDesignTipsPageOpen:function(){return window.location.hash.includes("#/designtips")||window.location.href.includes("tips")||window.location.href.includes("templateSubmissionTips")},addAjaxParamsForSubdomainToSubfolderRequests:function(e,t=!1){!PMW.isLocal()&&PMW.areSubdomainToSubfolderAjaxParamsNeeded&&["dabeta.postermywall.com","da.localpostermywall.com","da.postermywall.com"].includes(window.location.hostname)&&(t?e.withCredentials=!0:e.xhrFields={withCredentials:!0})},redirectForStudentUserIfNeeded:function(){PMW.isStudent()&&(window.location.href=PMW.util.site_url("posters/mine#/designs"),history.replaceState("","",PMW.util.site_url("posters/mine#/designs")))}}),Modernizr&&Modernizr.addTest&&Modernizr.addTest("edge",(function(){return!!navigator.userAgent.match(/edge/i)})),PMW.init(),document.addEventListener("DOMContentLoaded",(function(){void 0!==PMW.bindAccessibilityEvents&&PMW.bindAccessibilityEvents(),$('form:not(".js-form")').each((function(){$(this).submit(PMW.formSubmit)}))})),PMW.mergePMW(PMW,{PAYMENT_VENDORS:{APPLE:"apple",STRIPE:"stripe"},IAP_PRODUCT_TYPES:{DOWNLOADS:"downloads",CREDITS:"credits",SUBSCRIPTIONS:"subscriptions",FREE_TRIALS:"freeTrials"},callBackForIAPurchase:function(e,t,n,o){if(window.webkit&&window.webkit.messageHandlers){PMW.writeLocal("user/getAppleCustomerIdByUserId").then((n=>{window.webkit.messageHandlers.purchaseResponse.postMessage({itemId:e,appleAccountToken:n,purchaseType:t})})).catch((()=>{o()}));const i=async e=>{"success"===e.detail.message.status?n(e.detail.message):o("cancelled"!==e.detail.message.status),document.removeEventListener("purchaseResponse",i)};document.addEventListener("purchaseResponse",i)}else PMW.openErrorModal({log:!1})},getIAPProducts:async function(e,t){await new Promise(((n,o)=>{const i=PMW.getVersionedCacheItem(e);if(i)return t(i),void n();if(window.webkit&&window.webkit.messageHandlers){window.webkit.messageHandlers.productsResponse.postMessage({purchaseType:e});const o=i=>{const a=i.detail.message;if(a){let o=JSON.parse("["+a.replaceAll("[","{").replaceAll("]","}").slice(1,a.length-1)+"]");o=o.map((e=>({...e,tierId:Number(e.tierId),duration:Number(e.duration),level:Number(e.level)}))),PMW.setCacheItem(e,a,PMW.CACHE_EXPIRY_ONE_HOUR),t(o),n()}document.removeEventListener("productsResponse",o)};document.addEventListener("productsResponse",o)}else PMW.openErrorModal({log:!1}),o()}))},openIOSDeviceSubscriptions:function(){if(window.webkit&&window.webkit.messageHandlers){window.webkit.messageHandlers.subscriptionSettings.postMessage({});const e=t=>{"error"===t.detail.message&&PMW.openMessageModal({text:i18next.t("pmwjs_manage_ios_subscription")}),document.removeEventListener("subscriptionSettings",e)};document.addEventListener("subscriptionSettings",e)}else PMW.openErrorModal({log:!1})},openIOSDevicePurchaseHistory:function(){if(window.webkit&&window.webkit.messageHandlers){window.webkit.messageHandlers.purchaseHistory.postMessage({});const e=t=>{"error"===t.detail.message&&PMW.openMessageModal({text:i18next.t("pmwjs_you_can_view_your_purchase_history_from_settings_or_app_store")}),document.removeEventListener("purchaseHistory",e)};document.addEventListener("purchaseHistory",e)}else PMW.openErrorModal({log:!1})},showSubscriptionHandlingInfo:async()=>{const e=PMW.getUserId();if(!e||!PMW.isUserPremium())return!1;const t=await PMW.readLocal("premium/getActiveSubscriptionVendor",null,"activeSubscriptionVendor"+e);return!!(t===PMW.PAYMENT_VENDORS.APPLE&&!PMW.isIOSApp()||t===PMW.PAYMENT_VENDORS.STRIPE&&PMW.isIOSApp())&&(PMW.openMessageModal({title:i18next.t("pmwjs_manage_subscription"),text:i18next.t(PMW.isIOSApp()?"pmwjs_manage_subscription_web_or_android":"pmwjs_manage_subscription_ios_ipados"),ctaButton:{text:i18next.t("pmwjs_okay"),onClick:()=>{PMW.closeMessageModal()}}}),!0)}}),function(){let e=null,t=function(){return null===e&&(e=bowser.getParser(window.navigator.userAgent)),e};PMW.isMacOS=function(){return t().is("macOS")&&!PMW.isTouchSupported()},PMW.isAndroidOS=function(){return t().is("Android")},PMW.isEdge=function(){return t().isBrowser("Microsoft Edge")},PMW.isMobileOS=function(){return PMW.isIOS()||PMW.isAndroidOS()},PMW.isIOS=function(){return PMW.isIphone()||PMW.isIpad()},PMW.isIOSApp=function(){return navigator.userAgent.includes("iosPwaApp")},PMW.isIpad=function(){return t().is("macOS")&&PMW.isTouchSupported()},PMW.isIphone=function(){return t().is("iOS")},PMW.getBrowserVersion=function(){return t().getBrowserVersion()},PMW.getBrowserName=function(){return t().getBrowserName()},PMW.isIOSSafari=function(){return PMW.isSafari()&&PMW.isIOS()},PMW.isMacOSSafari=function(){return PMW.isSafari()&&PMW.isMacOS()},PMW.isSafari=function(){return t().isBrowser("Safari")},PMW.isFirefox=function(){return t().isBrowser("Firefox")},PMW.isIE=function(){return t().isBrowser("Internet Explorer")},PMW.isChrome=function(){return t().isBrowser("Chrome")},PMW.isTouchSupported=function(){return!!Modernizr.touchevents};let n=null;PMW.doesBrowserSupportWebm=function(){if(PMW.isSafari())return!1;if(null===n){let e=document.createElement("video");n="probably"===e.canPlayType('video/webm; codecs="vp8, vorbis"')}return n}}(),PMW.initToggleButton=function(e,t){const n=$(`#${e}`);PMW.onClick(n,".js-toggle-btn:not(.-selected)",(e=>{const t=$(e.currentTarget);t.blur(),t.addClass("-selected").siblings(".toggle-btn.-selected").removeClass("-selected"),t.siblings(".slider").hasClass("-second-btn")?t.siblings(".slider").removeClass("-second-btn"):t.siblings(".slider").addClass("-second-btn")}));const o=$(`#${e}.-show-view-all`);PMW.onClick(o,".js-toggle-btn.-selected",(e=>{const t=$(e.currentTarget);t.find(".js-loader").removeClass("_hidden").siblings().addClass("_hidden"),t.blur(),PMW.gtm.trackGA4CarouselToggleViewAllClick(t.attr("data-analytics-name")),window.location=t.attr("data-url")})),t.length>0&&PMW.initCarouselToggle(t)}})();
//# sourceMappingURL=core.a22540a36f6d7375616c.bundle.js.map
