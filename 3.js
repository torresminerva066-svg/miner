PMW.replaceNextGenVideosWithImages=function(){document.addEventListener("DOMContentLoaded",function(){var video,replacementImg,altSrc,videos=[].slice.call(document.querySelectorAll("video.compatibility"));function supportsVideoType(type){var video=video||document.createElement("video");return video.canPlayType({webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"'}[type]||type)}if("probably"!==supportsVideoType("webm")||"probably"!==supportsVideoType("vp9")||!function(){const elem=document.createElement("canvas");return elem.getContext&&elem.getContext("2d")&&0===elem.toDataURL("image/webp").indexOf("data:image/webp")}())for(var i=0;i<videos.length;i++)null===(altSrc=(video=videos[i]).getAttribute("data-alt-src"))?((replacementImg=document.createElement("img")).setAttribute("class",video.getAttribute("class")),null!==video.getAttribute("data-poster")?replacementImg.src+=video.getAttribute("data-poster"):replacementImg.src+=video.getAttribute("poster"),replacementImg.id+=video.id,replacementImg.setAttribute("data-loaded",1),video.parentNode.insertBefore(replacementImg,video),video.parentNode.removeChild(video)):(video.setAttribute("src",altSrc),video.setAttribute("data-loaded",1),video.load())})};
PMW.posterTypesSearchOnInputText=function(e){let searchTerm,results,el=$(this).closest(".js-search-field-container"),posterTypes=el.find(".js-poster-types");searchTerm=e.target.value.trim(),posterTypes.width(el.find(".js-element-for-width").outerWidth()),0<searchTerm.length?(posterTypes.removeClass("_hidden"),"keyup"===e.type&&38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode&&(el.find(".search-results-container").scrollTop(0),el.find(".-keyboardfocus").removeClass("-keyboardfocus"))):(el.find(".-keyboardfocus").removeClass("-keyboardfocus"),posterTypes.addClass("_hidden")),el.find(".js-searchable-item").each(function(index,element){let textElement=(element=$(element)).children(".poster-type-name");-1<textElement[0].textContent.toLowerCase().indexOf(searchTerm.toLowerCase())?element.removeClass("_hidden"):element.addClass("_hidden")}),(results=el.find(".js-searchable-item:not(._hidden)"))&&!results.length?posterTypes.addClass("_hidden"):posterTypes.removeClass("_hidden")},PMW.onViewMoreInSearchResults=function(){let el=$(this).siblings(".search-results-container");el[0].scrollHeight>el.height()&&el.animate({scrollTop:"+="+el.height()},{duration:1e3})},PMW.onSearchArrowsUpDown=function(keyCode,searchContainer){if(!searchContainer.find(".poster-types").hasClass("_hidden")){let hoverItem=searchContainer.find(".js-searchable-item.-keyboardfocus"),searchResultsContainer=searchContainer.find(".search-results-container");if(38===keyCode)if(hoverItem.hasClass("-keyboardfocus")){let selected=hoverItem.removeClass("-keyboardfocus").prevAll(".js-searchable-item:not(._hidden)").first();selected.addClass("-keyboardfocus"),searchResultsContainer.animate({scrollTop:"-="+hoverItem.outerHeight()})}else searchResultsContainer.children(".js-searchable-item:not(._hidden)").first().addClass("-keyboardfocus");else if(40===keyCode){let lastPosterType=searchContainer.find(".js-searchable-item:not(._hidden)").slice(-1);if(!lastPosterType.hasClass("-keyboardfocus")&&hoverItem.hasClass("-keyboardfocus")){let selected=hoverItem.removeClass("-keyboardfocus").nextAll(".js-searchable-item:not(._hidden)").first();selected.addClass("-keyboardfocus"),searchResultsContainer.animate({scrollTop:"+="+hoverItem.outerHeight()})}else lastPosterType.hasClass("-keyboardfocus")||searchResultsContainer.children(".js-searchable-item:not(._hidden)").first().addClass("-keyboardfocus")}}},PMW.onEnterKey=function(keyCode,searchContainer){let searchResults=searchContainer.find(".poster-types"),hoverItem=searchContainer.find(".js-searchable-item.-keyboardfocus");13===keyCode&&!searchResults.hasClass("_hidden")&&hoverItem.hasClass("-keyboardfocus")&&(PMW.trackEventOnClickSearchablePosterType(hoverItem),window.location=hoverItem.attr("href"))},PMW.hideSearchResults=function(trigger,target,searchField){trigger===target||trigger.has(target).length||target===searchField[0]||searchField.has(target).length||trigger.addClass("_hidden")},PMW.toggleShowMoreResults=function(sc){0<sc.length&&sc[0].scrollHeight>sc.scrollTop()+sc.innerHeight()?$(".view-more-results").removeClass("_hidden"):$(".view-more-results").addClass("_hidden")},PMW.onSearchablePosterTypeClicked=function(){let selectedItem=$(this);PMW.trackEventOnClickSearchablePosterType(selectedItem),window.location.href=selectedItem.attr("href")},PMW.trackEventOnClickSearchablePosterType=function(selectedItem){var posterTypeName=selectedItem.attr("data-poster-type-name"),eventName=selectedItem.attr("data-ga-event-name");PMW.gtm.trackGA4CustomEvent(eventName||"DesignGallery_AutoComplete_Sizes",{searchTerm:posterTypeName})};
!function(){let iconClose=$(".js-icon-close-banner"),notificationBannerContainer=$(".js-nav-notification-container");0<iconClose.length&&PMW.onClick(iconClose,null,function(){PMW.util.setCookie(iconClose.attr("data-close-cookie"),"1",7),notificationBannerContainer.css("display","none")})}();
PMW.initSearchResults=function(){const ENTER_KEY_CODE=13;function hideClearIcon(inputField){let visibleInputField=inputField.filter(":visible"),inputContainer=$(visibleInputField.parent(".input-field-container"));$(inputContainer.find(".search-icon")).removeClass("_hidden"),$(inputContainer.find(".clear-icon")).addClass("_hidden")}PMW.showClearIcon=function(inputField){let visibleInputField=inputField.filter(":visible");if(0!==visibleInputField.val().length){let inputContainer=$(visibleInputField.parent(".input-field-container"));$(inputContainer.find(".search-icon")).addClass("_hidden"),$(inputContainer.find(".clear-icon")).removeClass("_hidden")}},PMW.initClearIconOnTyping=function($input,cbTyping=null,cbDoneTyping=null){let typingTimer;$input.on("keyup",function(){clearTimeout(typingTimer),typingTimer=setTimeout((function(){"function"==typeof cbDoneTyping&&cbDoneTyping($input)}).bind(this),300)}),$input.on("keydown",function(){clearTimeout(typingTimer),"function"==typeof cbTyping&&cbTyping($(this))})};let inputField=$(".js-search-field-input"),inputFieldContainer=$(".js-input-field-container");PMW.initClearIconOnTyping(inputField,hideClearIcon),inputField.each(function(){let searchForm=$(this).closest(".js-search-field-container"),searchContainer=searchForm.find(".js-main-search-container, .main-search-container").first(),searchResultsContainer=searchContainer.find(".search-results-container");PMW.onClick(searchContainer.find(".js-view-more"),null,function(){PMW.onViewMoreInSearchResults.call(this)}),PMW.onClick(searchResultsContainer.find(".js-poster-type-link"),null,PMW.onSearchablePosterTypeClicked),$(this).on("keyup change",PMW.posterTypesSearchOnInputText),searchForm.find(".js-search-input-form").on("keypress",function(e){if(e.which===ENTER_KEY_CODE&&searchResultsContainer&&!searchResultsContainer.hasClass("_hidden")&&0<searchResultsContainer.children(".-keyboardfocus").length)return e.preventDefault(),!1}),searchContainer.keyup(function(e){return PMW.toggleShowMoreResults($(this).find(".search-results-container")),0===$(this).parents("#create-from-scratch").length&&PMW.onEnterKey(e.keyCode,$(this)),PMW.onSearchArrowsUpDown(e.keyCode,$(this))}),searchResultsContainer.length&&searchResultsContainer[0].addEventListener("scroll",PMW.debounce(PMW.toggleShowMoreResults.bind(this,searchResultsContainer),10),{passive:!0});let w=$(window);w.click(function(e){var trigger=searchForm.find(".poster-types"),searchBox=searchForm.find(".search-box");PMW.hideSearchResults(trigger,e.target,searchBox)})}),PMW.onClick(inputFieldContainer,".clear-icon",(function(inputField){inputField.val(""),hideClearIcon(inputField)}).bind(this,inputField))};
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Siema",[],t):"object"==typeof exports?exports.Siema=t():e.Siema=t()}("undefined"!=typeof self?self:this,function(){return e=[function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),l=function(){function e(t){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error("Something wrong with your selector ðŸ˜­");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach(function(e){i[e]=i[e].bind(i)}),this.init()}return s(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.selector.addEventListener("touchend",this.touchendHandler,{passive:!0}),this.selector.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var i=document.createDocumentFragment();if(this.config.loop)for(var r=this.innerElements.length-this.perPage;r<this.innerElements.length;r++){var n=this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));i.appendChild(n)}for(var s=0;s<this.innerElements.length;s++){var l=this.buildSliderFrameItem(this.innerElements[s]);i.appendChild(l)}if(this.config.loop)for(var o=0;o<this.perPage;o++){var a=this.buildSliderFrameItem(this.innerElements[o].cloneNode(!0));i.appendChild(a)}this.sliderFrame.appendChild(i),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===n(this.config.perPage))for(var e in this.perPage=1,this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}},{key:"prev",value:function(){var i,r,l,o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];this.innerElements.length<=this.perPage||(i=this.currentSlide,this.config.loop?this.currentSlide-e<0?(this.disableTransition(),r=this.currentSlide+this.innerElements.length,o=this.perPage,l=(this.config.rtl?1:-1)*(r+o)*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style[this.transformProperty]="translate3d("+(l+o)+"px, 0, 0)",this.currentSlide=r-e):this.currentSlide=this.currentSlide-e:this.currentSlide=Math.max(this.currentSlide-e,0),i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this)))}},{key:"next",value:function(){var i,r,l,o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];this.innerElements.length<=this.perPage||(i=this.currentSlide,this.config.loop?this.currentSlide+e>this.innerElements.length-this.perPage?(this.disableTransition(),r=this.currentSlide-this.innerElements.length,o=this.perPage,l=(this.config.rtl?1:-1)*(r+o)*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style[this.transformProperty]="translate3d("+(l+o)+"px, 0, 0)",this.currentSlide=r+e):this.currentSlide=this.currentSlide+e:this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage),i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this)))}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){var i;this.innerElements.length<=this.perPage||(i=this.currentSlide,this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),i!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this)))}},{key:"slideToCurrent",value:function(e){var t=this,i=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,r=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage);e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+r+"px, 0, 0)"})}):this.sliderFrame.style[this.transformProperty]="translate3d("+r+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),i=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,r=0<e&&this.currentSlide-i<0,n=e<0&&this.currentSlide+i>this.innerElements.length-this.perPage;0<e&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(i):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(i),this.slideToCurrent(r||n)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){var i,n;e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,i=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),n=this.drag.endX-this.drag.startX,n=this.config.rtl?i+n:i-n,this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)")}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){var i,n;e.preventDefault(),this.pointerDown&&("A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,i=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),n=this.drag.endX-this.drag.startX,n=this.config.rtl?i+n:i-n,this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)")}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error("Item to remove doesn't exist ðŸ˜­");var i=e<this.currentSlide,r=this.currentSlide+this.perPage-1===e;(i||r)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,i){if(t<0||t>this.innerElements.length+1)throw new Error("Unable to inset it at this index ðŸ˜­");if(-1!==this.innerElements.indexOf(e))throw new Error("The same item in a carousel? Really? Nope ðŸ˜­");var r=0<(t<=this.currentSlide)&&this.innerElements.length;this.currentSlide=r?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),i&&i.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var i=document.createDocumentFragment(),r=0;r<this.innerElements.length;r++)i.appendChild(this.innerElements[r]);this.selector.innerHTML="",this.selector.appendChild(i),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var r,t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},i=e;for(r in i)t[r]=i[r];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=l,e.exports=t.default}],i={},t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0);function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e,i});
!function(){function initStarTrail(selector){let isMouseDown=!1,intervalId=null,targetElement=null,isMouseMoving=!1;function spawnStars(event){for(let i=0;i<5;i++)!function(x,y){const star=document.createElement("div");star.classList.add("trailing-star");.5<=Math.random()&&star.classList.add("light");var dx=200*Math.random()+100,dy=200*Math.random()+100,size=10*Math.random()+5;star.style.width=`${size}px`,star.style.height=`${size}px`,star.style.left=`${x}px`,star.style.top=`${y}px`,document.body.appendChild(star),star.style.transform=`translate(${dx}px, ${dy}px)`,setTimeout(()=>{star.remove()},1500)}(event.clientX,event.clientY)}document.addEventListener("mousedown",function(event){targetElement=event.target.closest(selector),targetElement&&(isMouseDown=!0,spawnStars(event),intervalId=setInterval(()=>{isMouseMoving||spawnStars(event)},200))}),document.addEventListener("mouseup",function(){isMouseDown=!1,isMouseMoving=!1,clearInterval(intervalId)}),document.addEventListener("mousemove",PMW.debounce(function(event){isMouseMoving=!0,isMouseDown&&targetElement&&targetElement.contains(event.target)&&spawnStars(event)},10))}PMW.initStarTrailOnCursor=function(selector=".js-star-trail"){initStarTrail(selector)}}();
!function(){PMW.aiImageGenerator={initAiImageAutoPlay:function(){var animationDelay;PMW.isMobileOS()||(aiImagePromptDelayMS||(animationDelay=$(".js-ai-tool-base").data("animation-delay-ms"),aiImagePromptDelayMS=animationDelay?parseInt(animationDelay):5e3),aiImagePromptInterval=aiImagePromptInterval||setInterval(autoTriggerAiImagePrompt,aiImagePromptDelayMS))},initAiImageGeneratorWidget:function(){PMW.onClick($(`.${AI_IMAGE_PROMPT_JS_CLASS}`),null,function(){aiImagePromptInterval&&clearInterval(aiImagePromptInterval),triggerAiImagePrompt($(this))})}};const AI_IMAGE_PROMPT_JS_CLASS="js-ai-image-prompt";let aiImagePromptDelayMS=null,aiImagePromptInterval;function autoTriggerAiImagePrompt(){let promptToTrigger=$(".js-ai-image-prompt.selected"),nextToTrigger;0===promptToTrigger.length?nextToTrigger=$(".js-ai-image-prompt").first():(nextToTrigger=promptToTrigger.next(".js-ai-image-prompt"),0===nextToTrigger.length&&(nextToTrigger=$(".js-ai-image-prompt").first())),triggerAiImagePrompt(nextToTrigger)}function triggerAiImagePrompt(aiImagePromptEl){let parent=aiImagePromptEl.parents(".js-ai-tool-base");const promptNumber=parseInt(aiImagePromptEl.attr("data-prompt"),10),aiImagePrompt=parent.find(".js-ai-image-prompt");parent.hasClass("-disabled")||(aiImagePromptEl.addClass("selected").siblings().removeClass("selected"),aiImagePromptEl.parents(".js-ai-tool-base").addClass("-disabled"),parent.find(".js-ai-image-heading").addClass("_hidden"),parent.find(".js-ai-generating-heading").removeClass("_hidden"),parent.find(".js-ai-images").addClass("-loading"),aiImagePrompt.removeClass("js-star-trail"),parent.find(".js-ai-image").each(function(key,imgEl){const img=$(imgEl);img.attr("src",img.attr(`data-prompt-${promptNumber}-src`))}),setTimeout(function(){aiImagePrompt.addClass("js-star-trail"),parent.removeClass("-disabled"),parent.find(".js-ai-image-heading").removeClass("_hidden"),parent.find(".js-ai-generating-heading").addClass("_hidden"),parent.find(".js-ai-images").removeClass("-loading")},1400))}}();
PMW.initPage=function(c,m){const CAROUSEL_INITIALIZED="1",MONTHLY="monthly",YEARLY="yearly",DURATION_MONTHLY=1,DURATION_YEARLY=12,LEVEL_1=1,LEVEL_2=2;let lastSelectedType=void 0;function recordGAEvent(btn,eventName){var type=btn.attr("data-ga-event-parameter");let opts=void 0;eventName&&(type&&(opts={type:type}),function(eventName){return"HP_TemplatesViewAll"===eventName||"HP_TemplatesMore"===eventName}(eventName)&&(opts={type:lastSelectedType??"All"}),lastSelectedType=type,PMW.gtm.trackGA4CustomEvent(eventName,opts),"HP_HeroTile_Event"!==eventName&&"HP_Events_Clicked"!==eventName||PMW.gtm.trackGA4CustomEvent(PMW.gtm.EVENTS_CREATE_CLICK_GA_EVENT))}function interceptClickForTracking(event,btn,eventName=""){btn.data("clicked")?btn.attr("href")&&"javascript:void(0);"!==btn.attr("href")&&("_blank"===btn.attr("target")?window.open(btn.attr("href"),"_blank"):window.location.href=btn.attr("href")):(event.preventDefault(),btn.data("clicked",!0),eventName=eventName||btn.attr("data-ga-event"),recordGAEvent(btn,eventName),btn.off("click").trigger("click"))}function isMobile(){return window.innerWidth<=950}function onUploadMediaStart(){const btn=$(".js-homepage-upload-media");btn.parents(".js-homepage-carousel").removeClass("-autoplay"),btn.find(".js-dotted-icon").addClass("_hidden"),btn.find(".js-icon-circular-loader").removeClass("_hidden"),btn.find(".js-upload-waiting-text").removeClass("_hidden"),btn.find(".js-upload-default-text").addClass("_hidden")}function onUploadMediaEnd(){const btn=$(".js-homepage-upload-media");btn.parents(".js-homepage-carousel").addClass("-autoplay"),btn.find(".js-dotted-icon").removeClass("_hidden"),btn.find(".js-icon-circular-loader").addClass("_hidden"),btn.find(".js-upload-waiting-text").addClass("_hidden"),btn.find(".js-upload-default-text").removeClass("_hidden")}function onUploadMediaCTAClicked(){PMW.triggerCreateDesignFromUserUpload({maxSelectionNumber:1,onErrorDuringUpload:onUploadMediaEnd,onAllPostersCreated:onUploadMediaEnd,onPosterCreationsStarted:onUploadMediaStart,onPosterCreated:({newlyCreatedPosterHashedId})=>{onUploadMediaEnd(),PMW.gtm.trackGA4CustomEvent("HP_UploadMedia_Created"),window.location.href=window.PMW.util.site_url(`posterbuilder/load/${newlyCreatedPosterHashedId}`)}})}function activateFeatureCard(card){const img=$(".js-homepage-feature-card-image");img.removeClass("-active"),card.addClass("-active").siblings(".js-expanding-card").removeClass("-active"),img.attr("src",card.attr("data-img-src")),setTimeout(()=>{img.addClass("-active")},50)}function initCarouselWheelScroll(carouselSelector,carouselObj){let lastScrollTime=0;const carouselParent=carouselSelector.parents(".js-homepage-carousel");carouselSelector.on("wheel",function(event){var deltaX=event.originalEvent.deltaX,now=event.originalEvent.deltaY;Math.abs(deltaX)>Math.abs(now)&&(event.preventDefault(),event.stopPropagation(),600<(now=Date.now())-lastScrollTime&&(0<deltaX?(carouselParent.removeClass("-autoplay"),carouselObj.next()):(carouselParent.removeClass("-autoplay"),carouselObj.prev()),lastScrollTime=now))})}function initCarousel(selector){const carouselSelector=$(selector),carouselParent=carouselSelector.parents(".js-homepage-carousel"),templatesCarousel=new Siema({selector:selector,duration:200,easing:"ease-out",multipleDrag:!0,loop:!0,perPage:{1:2,500:3,768:4,1050:5,1280:6,1600:7,1920:8,2e3:9}});initCarouselWheelScroll(carouselSelector,templatesCarousel);var nextBtn=$(".js-templates-section-next"),prevBtn=$(".js-templates-section-prev");return PMW.onClick(nextBtn,null,function(){carouselParent.removeClass("-autoplay"),templatesCarousel.next()}),PMW.onClick(prevBtn,null,function(){carouselParent.removeClass("-autoplay"),templatesCarousel.prev()}),templatesCarousel}function waitForFunction(fnPath,callback,checkInterval=100,timeout=15e3){const startTime=Date.now(),checkFunction=()=>{"function"==typeof fnPath.split(".").reduce((obj,key)=>obj&&obj[key]?obj[key]:void 0,window)?callback():Date.now()-startTime>=timeout||setTimeout(checkFunction,checkInterval)};checkFunction()}function onNavCreateFromScratch(){var createBtn=$("#create-design-cta-container").get(0);PMW.initHomepageCreatePopup(createBtn,function(){const HOMEPAGE_NAV_GA4_EVENTS={HOMEPAGE_CREATENAV_DESIGN:"HP_CreateNav_Design",HOMEPAGE_CREATENAV_EMAIL:"HP_CreateNav_Email",HOMEPAGE_CREATENAV_SOCIAL_POST:"HP_CreateNav_SocialPost",HOMEPAGE_CREATENAV_EVENT:"HP_CreateNav_Event"},props={onClickCreateDesign:()=>{PMW.gtm.trackGA4CustomEvent(HOMEPAGE_NAV_GA4_EVENTS.HOMEPAGE_CREATENAV_DESIGN),window.location.href=PMW.util.site_url("posters/gallery")},onClickCreateSocialMediaPost:()=>{PMW.gtm.trackGA4CustomEvent(HOMEPAGE_NAV_GA4_EVENTS.HOMEPAGE_CREATENAV_SOCIAL_POST),window.location.href=PMW.util.site_url("socialmedia/post")},onClickCreateEmail:()=>{PMW.gtm.trackGA4CustomEvent(HOMEPAGE_NAV_GA4_EVENTS.HOMEPAGE_CREATENAV_EMAIL),window.location.href=PMW.util.site_url("email/templates/all/all/all")},onClickCreateEvent:()=>{PMW.gtm.trackGA4CustomEvent(HOMEPAGE_NAV_GA4_EVENTS.HOMEPAGE_CREATENAV_EVENT),window.location.href=PMW.util.gradient_url("2024/11/06/coming-soon-event-promotion")}},homepage=$(".js-homepage"),areEventsEnabled=homepage.data("are-events-enabled");areEventsEnabled&&(props.onClickCreateEvent=()=>{window.PMW.gtm.trackGA4CustomEvent(PMW.gtm.EVENTS_CREATE_CLICK_GA_EVENT),window.location.href=PMW.util.site_url("event/wizard")},props.eventsPillText=window.i18next.t("pmwjs_new"));return props}())}function onHomepageScroll(){const sections=$("section");sections.each((key,el)=>{const sectionEl=$(el);PMW.isScrolledIntoView(el,!0,-300)&&(sectionEl.removeClass("unanimated"),"powered-by-ai"===sectionEl.attr("id")&&PMW.aiImageGenerator.initAiImageAutoPlay())})}function initCarouselHandlers(carouselToShow){carouselToShow.removeClass("_hidden").siblings(":not(.js-carousel-nav-btn)").addClass("_hidden"),carouselToShow.attr("data-init")!==CAROUSEL_INITIALIZED&&(carouselToShow.attr("data-init",CAROUSEL_INITIALIZED),initCarousel(carouselToShow.find(".js-carousel").get(0)));var dataMoreURL=carouselToShow.attr("data-url");$(".js-carousel-view-all").attr("href",dataMoreURL)}function updateAiBgRemovalImage(percentage){const divider=$(".js-ai-bg-remove-divider");divider.css("left",percentage),$(".js-ai-bg-image-with-bg").css("clip-path","polygon(0 0, "+percentage+" 0, "+percentage+" 100%, 0 100%)")}function updatePricingBtnURLForType(param){const premiumBtn=$(".js-premium-pricing-btn.-premium"),premiumPlusBtn=$(".js-premium-pricing-btn.-premiumplus"),urlObj=new URL(PMW.util.site_url("premium"));param===MONTHLY?urlObj.searchParams.set("d",DURATION_MONTHLY.toString()):param===YEARLY&&urlObj.searchParams.set("d",DURATION_YEARLY.toString()),urlObj.searchParams.set("l",LEVEL_1.toString()),premiumBtn.attr("href",urlObj.toString()),urlObj.searchParams.set("l",LEVEL_2.toString()),premiumPlusBtn.attr("href",urlObj.toString())}function autoActivateFeatureCard(){let cardToActivate=$(".js-expanding-card.-active"),nextToActivate=null;0===cardToActivate.length?nextToActivate=$(".js-expanding-card").first():(nextToActivate=cardToActivate.next(".js-expanding-card"),0===nextToActivate.length&&(nextToActivate=$(".js-expanding-card").first())),activateFeatureCard(nextToActivate)}function raiseHeroCard(){let cardToRaise=$(".js-hero-card.-raised"),nextToRaise=null;if(0===cardToRaise.length)nextToRaise=$(".js-hero-card").first();else{nextToRaise=cardToRaise.next(".js-hero-card");const nextContainer=cardToRaise.next(".js-hero-card-container");0===nextToRaise.length&&(nextToRaise=0<nextContainer.length?nextContainer.find(".js-hero-card"):$(".js-hero-card").first())}raiseCard(nextToRaise)}function raiseCard(card,raisedClass="-raised"){card&&(card.addClass(raisedClass),card.siblings().removeClass("-raised").removeClass("-fast-raised"),card.siblings().find(".js-hero-card").removeClass("-raised").removeClass("-fast-raised"),card.parents(".js-hero-card-container").siblings().removeClass("-raised").removeClass("-fast-raised"))}PMW.hideForStudent()&&PMW.changeSearchForStudent(),PMW.initI18next(PMW.LANGUAGE,function(){waitForFunction("PMW.initHomepageCreatePopup",onNavCreateFromScratch)}),PMW.initAndLazyloadGraphics(),PMW.initTracking(),PMW.showPendingMarketingPopup(),PMW.initSearchResults(),PMW.toggleForDesigner(),PMW.toggleLoggedInClass(),PMW.replaceNextGenVideosWithImages(),PMW.initStarTrailOnCursor(".js-star-trail"),PMW.aiImageGenerator.initAiImageGeneratorWidget(),function(){let interval=setInterval(raiseHeroCard,3e3);const heroCard=$(".js-hero-card");let isCurrentlyHover=!1;heroCard.on("mouseenter",null,PMW.debounce(function(){isCurrentlyHover=!0,function(currentCard,interval){clearInterval(interval),raiseCard(currentCard,"-fast-raised")}($(this),interval),interval=void 0},50)),heroCard.on("mouseleave",null,PMW.debounce(function(){isCurrentlyHover=!1,setTimeout(()=>{isCurrentlyHover||(raiseHeroCard(),interval=interval||setInterval(raiseHeroCard,3e3))},800)},50)),PMW.onClick(heroCard,null,function(){const btn=$(this);PMW.gtm.trackGA4CustomEvent(btn.attr("data-event-type")),window.location.href=btn.attr("data-href")})}(),updateAiBgRemovalImage("50%"),PMW.onClick($(".js-carousel-pill"),null,function(){const btn=$(this);btn.siblings().removeClass("selected"),btn.addClass("selected");const dataFor=btn.attr("data-for");var carouselToShow=$(`.js-homepage-carousel[data-for="${dataFor}"]`);0<carouselToShow.length?(recordGAEvent(btn,btn.attr("data-ga-event")),initCarouselHandlers(carouselToShow)):PMW.readLocal("landingpage/getHomepageCarouselHTML",{type:dataFor}).then(d=>{$(".js-homepage-carousels-container").append(d.html);var carouselToShow=$(`.js-homepage-carousel[data-for="${dataFor}"]`);recordGAEvent(btn,btn.attr("data-ga-event")),initCarouselHandlers(carouselToShow)})}),window.addEventListener("load",onHomepageScroll,{passive:!0}),document.addEventListener("scroll",PMW.debounce(onHomepageScroll,10),{passive:!0}),PMW.onClick($(".js-start-creating"),null,function(){isMobile()?waitForFunction("PMW.openHomepageCreateOptionsModal",()=>{PMW.openHomepageCreateOptionsModal(function(){const modalProps={onClickCreateDesign:()=>{window.location.href=PMW.util.site_url("posters/gallery")},onClickCreateSocialMediaPost:()=>{window.location.href=PMW.util.site_url("socialmedia/post")},onClickCreateEmail:()=>{window.location.href=PMW.util.site_url("email/templates/all/all/all")},onClickCreateEvent:()=>{window.location.href=PMW.util.gradient_url("2024/11/06/coming-soon-event-promotion")}},homepage=$(".js-homepage"),areEventsEnabled=homepage.data("are-events-enabled");areEventsEnabled&&(modalProps.onClickCreateEvent=()=>{window.PMW.gtm.trackGA4CustomEvent(PMW.gtm.EVENTS_CREATE_CLICK_GA_EVENT),window.location.href=PMW.util.site_url("event/wizard")});return modalProps}())}):waitForFunction("PMW.openHomepageStartCreatingModal",PMW.openHomepageStartCreatingModal)}),function(){const carousel=$(".js-homepage-carousel-all");initCarousel(carousel.get(0)),carousel.parents(".js-homepage-carousel").attr("data-init",CAROUSEL_INITIALIZED)}(),$(".js-mobile-link").on("click",null,function(){var url;!isMobile()||(url=$(this).attr("data-href"))&&(window.location.href=url)}),isMobile()&&PMW.onClick($(".js-create-with-ai"),null,function(){waitForFunction("PMW.openHomepageAiFeaturesModal",()=>{PMW.openHomepageAiFeaturesModal({onClickAiImageGenerator:()=>{window.location.href=PMW.util.site_url("m/ai-text-to-image-generator")},onClickAiBgRemover:()=>{window.location.href=PMW.util.site_url("m/ai-background-remover")},onClickAiWriter:()=>{window.location.href=PMW.util.site_url("m/ai-writer")}})})}),PMW.onClick($(".js-expanding-card"),null,function(){activateFeatureCard($(this))}),function(){let interval=null;const expandingCard=$(".js-expanding-card");function stopAutoPlay(){interval&&(clearInterval(interval),interval=null)}$(window).on("scroll",function(){const section=$("#hassle-free-events");PMW.isScrolledIntoView(section.get(0),!0)&&!interval&&(interval||(interval=setInterval(autoActivateFeatureCard,5e3),autoActivateFeatureCard()))}),PMW.onClick(expandingCard,null,stopAutoPlay),expandingCard.on("tap",null,stopAutoPlay)}(),function(){if(window.innerWidth<=600){const reviewCards=$(".js-customer-review-card");reviewCards.each((index,reviewCard)=>{!function(reviewCard){var newTransform=reviewCard.css("transform"),newTransform=`${newTransform} scale(0.75)`;reviewCard.css("transform",newTransform)}($(reviewCard))})}}(),function(){PMW.onClick($(".js-homepage-upload-media"),null,()=>{PMW.gtm.trackGA4CustomEvent("HP_UploadMedia_Clicked");const btn=$(this);btn.parents(".js-homepage-carousel").removeClass("-autoplay"),waitForFunction("PMW.triggerCreateDesignFromUserUpload",onUploadMediaCTAClicked)})}(),PMW.onClick($(".carousel-item > a"),null,function(event){interceptClickForTracking(event,$(this),"HP_TemplateClicked")}),PMW.onClick($(".js-ga-event-link"),null,function(event){interceptClickForTracking(event,$(this))}),function(){const carouselSelector=$(".js-testimony-carousel"),testimonyCarousel=new Siema({selector:carouselSelector.get(0),duration:200,easing:"ease-out",multipleDrag:!0,loop:!PMW.isMobileOS(),perPage:{1:2,768:2,1150:3,1280:4}});initCarouselWheelScroll(carouselSelector,testimonyCarousel)}(),PMW.onClick($(".js-pricing-toggle"),null,function(){const currentOption=$(this);var cycleType=currentOption.attr("data-type");const togglerParent=currentOption.parents(".js-pricing-parent");currentOption.parents(".js-pricing-toggler").find(".js-pricing-toggle").removeClass("-selected"),currentOption.addClass("-selected"),cycleType===YEARLY?(function(){const perMonth=$(".js-per-month"),perYear=$(".js-per-year");perYear.removeClass("_hidden"),setTimeout(()=>{perYear.addClass("-animate")},20),perMonth.addClass("_hidden").removeClass("-animate"),updatePricingBtnURLForType(YEARLY)}(),togglerParent.addClass("second").removeClass("first")):cycleType===MONTHLY&&(function(){const perMonth=$(".js-per-month"),perYear=$(".js-per-year");perMonth.removeClass("_hidden"),setTimeout(()=>{perMonth.addClass("-animate")},20),perYear.addClass("_hidden").removeClass("-animate"),updatePricingBtnURLForType(MONTHLY)}(),togglerParent.addClass("first").removeClass("second"))}),$(".js-bg-range-slider").on("input",function(){updateAiBgRemovalImage($(this).val()+"%")})};
